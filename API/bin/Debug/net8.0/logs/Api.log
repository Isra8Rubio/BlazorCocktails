2025-08-20 10:39:09.8730|ERROR|RandomCocktailHostedService||14|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:12.8096|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:12.8780|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:12.8780|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:12.8780|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:12.8780|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:15.8021|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:15.8670|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:15.8670|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:15.8723|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:15.8723|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:18.7998|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:18.8606|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:18.8606|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:18.8606|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:18.8723|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:21.8100|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:21.8764|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:21.8885|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:21.8885|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:21.8885|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:24.8047|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:24.8642|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:24.8642|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:24.8642|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:24.8723|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:27.8125|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:27.8804|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:27.8804|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:27.8804|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:27.8921|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:30.8046|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:30.8718|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:30.8718|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:30.8718|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:30.8718|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:33.8089|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:33.8883|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:33.8883|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:33.8883|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:33.8883|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:36.8055|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:36.9100|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:36.9100|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:36.9100|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:36.9198|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:39.8047|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:39.8678|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:39.8711|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:39.8711|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:39.8711|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:42.8062|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:42.8664|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:42.8664|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:42.8722|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:42.8722|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:45.7994|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:45.8665|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:45.8665|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:45.8720|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:45.8720|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:48.8108|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:48.8731|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:48.8731|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:48.8731|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:48.8731|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:51.7992|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:51.8605|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:51.8605|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:51.8605|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:51.8605|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:54.8112|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:54.8731|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:54.8731|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:54.8731|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:54.8731|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:39:57.8055|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:39:57.9034|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:39:57.9034|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:39:57.9034|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:39:57.9034|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:00.8080|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:00.8830|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:00.8875|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:00.8875|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:00.8875|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:03.8022|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:03.8887|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:03.8887|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:03.8887|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:03.8887|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:06.8117|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:06.8988|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:06.9031|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:06.9031|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:06.9031|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:09.8046|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:09.8909|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:09.8909|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:09.8909|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:09.8909|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:12.8061|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:12.9057|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:12.9057|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:12.9057|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:12.9057|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:15.8043|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:15.8851|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:15.8878|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:15.8878|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:15.8878|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:18.7955|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:18.8589|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:18.8589|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:18.8589|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:18.8589|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:21.8087|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:21.8734|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:21.8734|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:21.8734|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:21.8734|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:24.8001|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:24.8626|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:24.8626|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:24.8626|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:24.8750|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:27.8061|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:27.8673|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:27.8673|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:27.8729|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:27.8729|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:30.7995|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:30.8634|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:30.8634|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:30.8634|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:30.8766|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:33.8025|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:33.8647|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:33.8647|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:33.8704|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:33.8704|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:36.8088|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:36.8860|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:36.8860|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:36.8860|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:36.8860|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:39.8055|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:39.9007|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:39.9032|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:39.9032|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:39.9032|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:42.8095|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:42.8696|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:42.8726|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:42.8726|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:42.8726|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:45.8054|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:45.8687|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:45.8719|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:45.8719|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:45.8719|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:48.8104|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:48.8743|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:48.8743|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:48.8743|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:48.8743|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:51.8102|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:51.8707|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:51.8707|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:51.8707|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:51.8707|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:54.8007|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:54.8630|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:54.8630|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:54.8630|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:54.8702|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:40:57.7991|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:40:57.9428|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:40:57.9428|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:40:57.9428|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:40:57.9514|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:00.8061|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:00.8660|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:00.8660|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:00.8718|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:00.8718|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:03.7983|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:03.8600|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:03.8600|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:03.8600|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:03.8600|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:06.8028|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:06.8967|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:06.8967|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:06.9018|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:06.9018|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:09.7985|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:09.8728|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:09.8728|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:09.8728|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:09.8728|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:12.8099|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:12.9171|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:12.9171|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:12.9171|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:12.9171|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:15.8029|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:15.8660|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:15.8660|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:15.8713|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:15.8713|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:18.7971|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:18.8603|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:18.8603|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:18.8603|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:18.8603|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:21.7965|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:21.8919|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:21.8919|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:21.8919|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:21.8919|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:24.8002|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:24.8693|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:24.8734|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:24.8734|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:24.8734|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:27.8040|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:27.8701|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:27.8701|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:27.8701|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:27.8701|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:30.8061|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:30.8678|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:30.8708|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:30.8708|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:30.8708|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:33.8033|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:33.8629|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:33.8629|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:33.8629|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:33.8708|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:36.8002|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:36.8652|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:36.8652|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:36.8652|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:36.8730|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:39.8100|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:39.8692|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:39.8731|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:39.8731|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:39.8731|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:42.8031|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:42.8768|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:42.8768|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:42.8768|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:42.8768|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:45.8073|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:45.8706|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:45.8706|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:45.8706|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:45.8706|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:48.8090|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:48.8716|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:48.8716|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:48.8716|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:48.8716|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:51.7963|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:51.8619|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:51.8619|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:51.8619|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:51.8759|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:54.7983|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:54.8652|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:54.8652|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:54.8712|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:54.8712|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:41:57.7970|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:41:57.8585|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:41:57.8585|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:41:57.8585|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:41:57.8585|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:00.7964|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:00.8785|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:00.8785|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:00.8785|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:00.8865|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:03.8096|INFO|RandomCocktailHostedService||27|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:03.8775|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:03.8775|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:03.8865|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:03.8865|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:06.8042|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:06.8782|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:06.8782|ERROR|Microsoft.EntityFrameworkCore.Database.Command||27|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:06.8782|ERROR|Microsoft.EntityFrameworkCore.Update||27|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:06.8887|ERROR|RandomCocktailHostedService||27|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:09.8087|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:09.8743|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:09.8743|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:09.8743|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:09.8935|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:12.8060|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:12.9350|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:12.9350|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:12.9350|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:12.9350|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:15.8053|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:15.8830|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:15.8878|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:15.8878|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:15.8878|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:18.8013|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:18.8795|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:18.8848|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:18.8848|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:18.8848|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:21.8087|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:21.9003|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:21.9058|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:21.9058|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:21.9058|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:24.8093|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:24.8832|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:24.8871|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:24.8871|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:24.8871|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:27.8065|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:27.8738|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:27.8738|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:27.8738|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:27.8940|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:30.8060|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:30.8690|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:30.8745|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:30.8745|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:30.8745|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:33.7963|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:33.8575|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:33.8575|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:33.8575|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:33.8575|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:36.8054|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:36.8661|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:36.8692|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:36.8692|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:36.8692|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:39.8057|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:39.8688|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:39.8707|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:39.8707|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:39.8707|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:42.7955|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:42.8974|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:42.8974|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:42.9020|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:42.9020|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:45.7976|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:45.8644|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:45.8644|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:45.8694|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:45.8694|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:48.7979|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:48.8657|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:48.8697|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:48.8697|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:48.8697|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:51.8067|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:51.8671|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:51.8702|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:51.8702|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:51.8702|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:54.8104|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:54.8776|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:54.8776|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:54.8869|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:54.8869|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:42:57.7952|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:42:57.8643|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:42:57.8643|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:42:57.8710|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:42:57.8710|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:00.8005|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:00.8701|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:00.8701|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:00.8701|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:00.8701|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:03.8039|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:03.8722|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:03.8722|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:03.8722|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:03.8722|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:06.7975|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:06.8697|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:06.8697|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:06.8697|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:06.8697|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:09.7987|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:09.8601|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:09.8601|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:09.8601|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:09.8601|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:12.8005|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:12.8678|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:12.8707|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:12.8707|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:12.8707|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:15.7978|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:15.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:15.8722|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:15.8722|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:15.8722|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:18.7967|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:18.8616|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:18.8616|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:18.8616|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:18.8724|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:21.8028|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:21.8856|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:21.8856|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:21.8856|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:21.8856|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:24.7998|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:24.8735|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:24.8735|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:24.8735|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:24.8735|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:27.8069|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:27.9015|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:27.9015|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:27.9015|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:27.9015|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:30.7996|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:30.8660|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:30.8751|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:30.8751|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:30.8751|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:33.8029|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:33.8600|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:33.8600|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:33.8600|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:33.8699|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:36.7951|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:36.8593|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:36.8593|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:36.8593|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:36.8745|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:39.8023|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:39.8703|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:39.8703|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:39.8703|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:39.8703|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:42.7995|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:42.9039|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:42.9039|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:42.9039|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:42.9039|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:45.8089|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:45.8756|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:45.8756|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:45.8756|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:45.8870|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:48.8005|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:48.8619|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:48.8619|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:48.8707|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:48.8707|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:51.7959|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:51.8641|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:51.8704|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:51.8704|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:51.8704|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:54.7957|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:54.8545|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:54.8545|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:54.8545|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:54.8545|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:43:57.8012|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:43:57.8669|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:43:57.8699|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:43:57.8699|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:43:57.8699|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:00.7945|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:00.9000|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:00.9000|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:00.9000|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:00.9000|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:03.8011|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:03.8751|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:03.8751|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:03.8751|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:03.8854|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:06.7934|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:06.8529|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:06.8529|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:06.8529|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:06.8529|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:09.8045|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:09.8663|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:09.8719|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:09.8719|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:09.8719|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:12.7950|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:12.8610|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:12.8610|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:12.8697|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:12.8697|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:15.7980|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:15.8763|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:15.8763|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:15.8763|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:15.8940|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:18.8074|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:18.8859|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:18.8859|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:18.8859|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:18.8859|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:21.8073|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:21.8658|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:21.8690|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:21.8690|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:21.8690|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:24.8061|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:24.8676|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:24.8719|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:24.8719|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:24.8719|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:27.8057|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:27.8886|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:27.8886|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:27.8886|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:27.9021|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:30.8037|INFO|RandomCocktailHostedService||21|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:30.8827|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:30.8871|ERROR|Microsoft.EntityFrameworkCore.Database.Command||21|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:30.8871|ERROR|Microsoft.EntityFrameworkCore.Update||21|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:30.8871|ERROR|RandomCocktailHostedService||21|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:33.7995|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:33.8715|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:33.8715|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:33.8715|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:33.8715|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:36.7963|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:36.8643|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:36.8680|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:36.8680|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:36.8680|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:39.8022|INFO|RandomCocktailHostedService||26|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:39.8654|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:39.8690|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:39.8690|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:39.8690|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:42.7997|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:42.8633|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:42.8633|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:42.8703|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:42.8703|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:45.7989|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:45.8667|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:45.8729|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:45.8729|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:45.8840|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:48.8037|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:48.8729|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:48.8729|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:48.8729|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:48.8846|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:51.8044|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:51.8677|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:51.8677|ERROR|Microsoft.EntityFrameworkCore.Database.Command||26|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:51.8677|ERROR|Microsoft.EntityFrameworkCore.Update||26|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:51.8677|ERROR|RandomCocktailHostedService||26|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:54.8033|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:54.8719|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:54.8719|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:54.8719|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:54.8853|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:44:57.7936|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:44:57.8552|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:44:57.8552|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:44:57.8552|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:44:57.8552|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:00.7961|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:00.8565|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:00.8565|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:00.8565|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:00.8565|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:03.8001|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:03.9045|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:03.9045|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:03.9045|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:03.9045|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:06.8079|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:06.8689|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:06.8689|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:06.8689|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:06.8830|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:09.7995|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:09.8655|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:09.8709|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:09.8709|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:09.8709|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:12.8058|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:12.8707|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (0ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:12.8707|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:12.8707|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:12.8707|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:15.8061|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:15.8649|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:15.8649|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:15.8701|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:15.8701|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:18.8020|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:18.8769|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:18.8769|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:18.8769|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:18.8829|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:21.7947|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:21.8603|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:21.8603|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:21.8603|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:21.8683|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:24.7978|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:24.8617|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:24.8617|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:24.8617|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:24.8685|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:27.8025|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:27.8724|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:27.8724|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:27.8724|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:27.8724|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:30.7977|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:30.8643|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:30.8672|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:30.8672|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:30.8672|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:33.8027|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:33.8816|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:33.8864|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:33.8864|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:33.8864|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:36.7948|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:36.9123|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:36.9188|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:36.9188|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:36.9188|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:39.8049|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:39.8681|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:39.8681|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:39.8681|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:39.8681|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:42.8072|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:42.8677|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:42.8677|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:42.8677|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:42.8677|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:45.8073|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:45.8819|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:45.8861|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:45.8861|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:45.8861|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:48.7992|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:48.8623|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:48.8623|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:48.8673|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:48.8673|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:51.8028|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:51.8647|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:51.8674|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:51.8674|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:51.8674|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:54.8024|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:54.8658|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:54.8690|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:54.8690|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:54.8690|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:45:57.7950|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:45:57.8577|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:45:57.8577|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:45:57.8577|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:45:57.8698|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:00.8025|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:00.8667|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:00.8698|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:00.8698|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:00.8698|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:03.7926|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:03.8624|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:03.8624|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:03.8624|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:03.8693|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:06.8065|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:06.8741|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:06.8741|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:06.8741|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:06.8850|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:09.7986|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:09.8628|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:09.8628|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:09.8681|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:09.8681|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:12.7959|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:12.8649|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:12.8682|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:12.8682|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:12.8682|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:15.8060|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:15.8651|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:15.8675|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:15.8675|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:15.8675|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:18.8023|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:18.8723|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:18.8723|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:18.8723|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:18.8848|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:21.7944|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:21.8603|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:21.8671|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:21.8671|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:21.8671|ERROR|RandomCocktailHostedService||3|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:24.7984|INFO|RandomCocktailHostedService||3|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:24.8602|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:24.8602|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:24.8602|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:24.8681|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:27.7946|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:27.8537|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:27.8537|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:27.8537|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:27.8736|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:30.7977|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:30.8714|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:30.8714|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:30.8714|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:30.8829|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:33.7978|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:33.8779|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:33.8779|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:33.8838|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:33.8838|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:36.8018|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:36.8624|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:36.8624|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:36.8672|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:36.8672|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:39.8056|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:39.8860|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:39.8860|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:39.8860|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:39.8860|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:42.8031|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:42.8850|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:42.8850|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:42.8850|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:42.8850|ERROR|RandomCocktailHostedService||12|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:45.8052|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:45.8672|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:45.8672|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:45.8672|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:45.8838|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:48.7947|INFO|RandomCocktailHostedService||6|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:48.8620|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:48.8620|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:48.8671|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:48.8671|ERROR|RandomCocktailHostedService||6|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:51.8030|INFO|RandomCocktailHostedService||30|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:51.9136|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:51.9136|ERROR|Microsoft.EntityFrameworkCore.Database.Command||30|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:51.9136|ERROR|Microsoft.EntityFrameworkCore.Update||30|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:51.9136|ERROR|RandomCocktailHostedService||30|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:54.7936|INFO|RandomCocktailHostedService||30|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:54.8585|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:54.8585|ERROR|Microsoft.EntityFrameworkCore.Database.Command||30|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:54.8585|ERROR|Microsoft.EntityFrameworkCore.Update||30|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:54.8673|ERROR|RandomCocktailHostedService||30|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:46:57.7950|INFO|RandomCocktailHostedService||30|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:46:57.8630|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:46:57.8669|ERROR|Microsoft.EntityFrameworkCore.Database.Command||30|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:46:57.8669|ERROR|Microsoft.EntityFrameworkCore.Update||30|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:46:57.8669|ERROR|RandomCocktailHostedService||30|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:00.7963|INFO|RandomCocktailHostedService||30|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:00.8626|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:00.8668|ERROR|Microsoft.EntityFrameworkCore.Database.Command||30|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:00.8668|ERROR|Microsoft.EntityFrameworkCore.Update||30|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:00.8668|ERROR|RandomCocktailHostedService||30|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:03.8055|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:03.9194|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:03.9194|ERROR|Microsoft.EntityFrameworkCore.Database.Command||30|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:03.9194|ERROR|Microsoft.EntityFrameworkCore.Update||30|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:03.9194|ERROR|RandomCocktailHostedService||30|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:06.7927|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:06.8572|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:06.8572|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:06.8662|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:06.8662|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:09.8026|INFO|RandomCocktailHostedService||35|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:09.8620|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:09.8620|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:09.8620|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:09.8685|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:12.7942|INFO|RandomCocktailHostedService||30|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:12.8928|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:12.8928|ERROR|Microsoft.EntityFrameworkCore.Database.Command||35|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:12.8928|ERROR|Microsoft.EntityFrameworkCore.Update||35|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:12.9024|ERROR|RandomCocktailHostedService||35|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:15.7997|INFO|RandomCocktailHostedService||20|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:15.8594|INFO|Microsoft.EntityFrameworkCore.Database.Command||20|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:15.8594|ERROR|Microsoft.EntityFrameworkCore.Database.Command||20|Failed executing DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:15.8594|ERROR|Microsoft.EntityFrameworkCore.Update||20|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:15.8594|ERROR|RandomCocktailHostedService||20|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 10:47:18.8019|INFO|RandomCocktailHostedService||12|HostedService: obteniendo cóctel aleatorio…
2025-08-20 10:47:18.8654|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 10:47:18.8713|ERROR|Microsoft.EntityFrameworkCore.Database.Command||20|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 10:47:18.8713|ERROR|Microsoft.EntityFrameworkCore.Update||20|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 10:47:18.8831|ERROR|RandomCocktailHostedService||20|HostedService: fallo al obtener/guardar random cocktail|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:2dd441e3-8cbc-4106-9e10-d74d47bd5291
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 54
2025-08-20 11:00:53.4840|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:00:53.5233|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:00:53.6766|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:00:53.6766|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:00:53.8047|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:00:53.8047|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:00:53.8047|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:00:54.6067|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:00:54.6067|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:00:54.6250|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 22.0989ms
2025-08-20 11:00:54.6493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 46.9745ms
2025-08-20 11:00:55.2424|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:00:55.4162|ERROR|Microsoft.EntityFrameworkCore.Database.Command||7|Failed executing DbCommand (28ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:00:55.4418|ERROR|Microsoft.EntityFrameworkCore.Update||7|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:020d4f72-19d9-42ed-87d5-d6e91cacc76c
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:020d4f72-19d9-42ed-87d5-d6e91cacc76c
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:00:55.4528|ERROR|RandomCocktailHostedService||7|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:020d4f72-19d9-42ed-87d5-d6e91cacc76c
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:00:55.6112|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:00:55.6523|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:00:55.6717|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:00:55.6923|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:55.6923|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP08RTJD6] Call: GetTypesAsync()
2025-08-20 11:00:55.7720|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP08RTJD6] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:00:55.7866|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:55.7994|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 98.2048ms
2025-08-20 11:00:55.7994|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:00:55.7994|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 192.8695ms
2025-08-20 11:00:58.2395|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:00:58.2395|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:00:58.2395|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:00:58.2395|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:00:58.2395|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:00:58.2519|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:00:58.2519|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.2519|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.2519|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP08RTJD6] Call: GetTypesAsync()
2025-08-20 11:00:58.2519|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP08RTJD6] Call: GetCategoriesAsync()
2025-08-20 11:00:58.3194|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:00:58.3194|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.3194|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 67.5214ms
2025-08-20 11:00:58.3194|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:00:58.3194|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 82.1963ms
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:00:58.3396|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:00:58.3434|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:00:58.3434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.3434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.3434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.3654|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP08RTJD6] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:00:58.3654|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP08RTJD6] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:00:58.3654|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:00:58.4174|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:00:58.4174|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 166.8066ms
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 184.0852ms
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:00:58.4222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||21|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:00:58.4404|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4534|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP08RTJD6] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||21|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4686|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||21|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:00:58.4534|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:00:58.4686|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4534|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4686|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||21|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:00:58.4686|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:00:58.4686|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 122.046ms
2025-08-20 11:00:58.4894|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:00:58.4686|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP08RTJD6] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:00:58.4894|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 151.1521ms
2025-08-20 11:00:58.5181|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 166.1474ms
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 182.5146ms
2025-08-20 11:00:58.5191|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP08RTJD6] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5191|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 173.8737ms
2025-08-20 11:00:58.5191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 70.3501ms
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 196.1771ms
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.5318|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 99.3579ms
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 73.2182ms
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.5318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 103.7577ms
2025-08-20 11:00:58.5816|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:00:58.5816|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 115.7329ms
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 110.8713ms
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 147.2281ms
2025-08-20 11:00:58.5816|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 149.1828ms
2025-08-20 11:00:58.5946|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:00:58.5946|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.5946|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 124.1631ms
2025-08-20 11:00:58.5946|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.5946|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 158.5016ms
2025-08-20 11:00:58.6154|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 145.2618ms
2025-08-20 11:00:58.6154|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 179.2305ms
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 145.8261ms
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.6154|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:00:58.6154|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 181.0911ms
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 154.4057ms
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 188.6259ms
2025-08-20 11:00:58.6248|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 162.8024ms
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 196.1903ms
2025-08-20 11:00:58.6248|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:00:58.6248|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 158.9293ms
2025-08-20 11:00:58.6411|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP08RTJD6] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 199.9229ms
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 166.6076ms
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:00:58.6411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 204.2382ms
2025-08-20 11:01:40.2010|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:01:40.2276|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:01:40.3470|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:01:40.3470|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:01:40.4496|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:01:40.4496|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:01:40.4528|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:01:41.6338|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:01:41.7541|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:01:41.7722|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a24bf70-6fcc-4c76-b75f-e94e8474b258
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a24bf70-6fcc-4c76-b75f-e94e8474b258
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:01:41.7818|ERROR|RandomCocktailHostedService||12|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a24bf70-6fcc-4c76-b75f-e94e8474b258
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:01:42.2472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:01:42.2472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:01:42.2594|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 15.6573ms
2025-08-20 11:01:42.2797|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 36.3923ms
2025-08-20 11:01:42.6680|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:01:42.7925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 124.4349ms
2025-08-20 11:01:44.7394|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:01:44.7394|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:01:44.7517|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:01:44.7517|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:01:44.7696|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:01:44.7696|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:01:44.7696|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:01:44.7696|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:01:44.7696|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:01:44.7917|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:44.7917|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:44.7917|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:44.7974|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP0MPPRPB] Call: GetTypesAsync()
2025-08-20 11:01:44.7974|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP0MPPRPB] Call: GetCategoriesAsync()
2025-08-20 11:01:44.8278|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:01:44.8370|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:01:44.8493|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 47.9446ms
2025-08-20 11:01:44.8493|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:01:44.8493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 115.5039ms
2025-08-20 11:01:44.8747|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP0MPPRPB] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:01:44.8747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:44.8747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 87.7505ms
2025-08-20 11:01:44.8747|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:01:44.8747|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 114.3063ms
2025-08-20 11:01:44.9339|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP0MPPRPB] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:01:44.9339|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:44.9380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 144.1401ms
2025-08-20 11:01:44.9380|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:01:44.9380|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 191.8817ms
2025-08-20 11:01:45.0140|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:01:45.0140|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:01:45.0140|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:01:45.0156|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0318|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP0MPPRPB] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:01:45.0318|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP0MPPRPB] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:01:45.0318|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP0MPPRPB] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0318|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0498|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0498|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0498|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:01:45.0498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0638|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0638|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0638|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0638|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:01:45.0638|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:01:45.0638|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0638|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.0638|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:01:45.0638|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:01:45.0638|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:01:45.0638|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:01:45.0638|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0780|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:01:45.0780|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:01:45.0780|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP0MPPRPB] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:01:45.1119|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP0MPPRPB] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:01:45.1119|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP0MPPRPB] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 84.3335ms
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 106.5298ms
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 91.0702ms
2025-08-20 11:01:45.1119|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:01:45.1245|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 110.2181ms
2025-08-20 11:01:45.1680|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:01:45.1680|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.1720|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 115.5529ms
2025-08-20 11:01:45.1720|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.1720|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:01:45.1720|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 150.1922ms
2025-08-20 11:01:45.1720|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.1720|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 134.4475ms
2025-08-20 11:01:45.1720|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.1889|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP0MPPRPB] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 164.0030ms
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.1889|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 166.8293ms
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 125.8604ms
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 185.2348ms
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.1889|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 168.4573ms
2025-08-20 11:01:45.2039|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:01:45.2039|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2039|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 148.1013ms
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 139.9222ms
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2039|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 139.1646ms
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 182.7400ms
2025-08-20 11:01:45.2039|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 184.0128ms
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2039|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2184|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:01:45.2184|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 147.301ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 187.8841ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 137.9665ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2184|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP0MPPRPB] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 153.941ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 160.6401ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 196.1799ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 181.9280ms
2025-08-20 11:01:45.2184|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2341|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2341|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 151.7664ms
2025-08-20 11:01:45.2341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 201.9138ms
2025-08-20 11:01:45.2341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 206.6164ms
2025-08-20 11:01:45.2341|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:01:45.2341|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 191.8778ms
2025-08-20 11:03:40.4538|INFO|Microsoft.EntityFrameworkCore.Database.Command||34|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:03:40.4538|ERROR|Microsoft.EntityFrameworkCore.Database.Command||34|Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:03:40.4687|ERROR|Microsoft.EntityFrameworkCore.Update||34|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a24bf70-6fcc-4c76-b75f-e94e8474b258
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a24bf70-6fcc-4c76-b75f-e94e8474b258
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:03:40.4687|ERROR|RandomCocktailHostedService||34|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a24bf70-6fcc-4c76-b75f-e94e8474b258
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:04:03.3965|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:04:03.4257|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:04:03.5195|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:04:03.5208|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:04:03.6081|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:04:03.6081|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:04:03.6081|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:04:04.6876|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:04:04.8248|ERROR|Microsoft.EntityFrameworkCore.Database.Command||9|Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:04:04.8425|ERROR|Microsoft.EntityFrameworkCore.Update||9|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ab20ab41-7dd1-46e9-815d-9e25864e7ff8
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ab20ab41-7dd1-46e9-815d-9e25864e7ff8
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:04:04.8514|ERROR|RandomCocktailHostedService||9|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:ab20ab41-7dd1-46e9-815d-9e25864e7ff8
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:04:05.4926|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:04:05.5889|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 98.0953ms
2025-08-20 11:04:05.6530|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:04:05.6530|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:04:05.6640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 10.6319ms
2025-08-20 11:04:05.6847|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 31.6719ms
2025-08-20 11:04:05.9100|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:04:06.1159|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 205.7783ms
2025-08-20 11:04:07.1195|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:04:07.1276|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:04:07.1276|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:04:07.1276|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:04:07.1475|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:04:07.1475|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:04:07.1653|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.1653|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.1653|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP21SGL8C] Call: GetCategoriesAsync()
2025-08-20 11:04:07.1742|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:04:07.1742|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:04:07.1742|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:04:07.1742|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.1882|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP21SGL8C] Call: GetTypesAsync()
2025-08-20 11:04:07.1882|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:04:07.2091|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:04:07.2202|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 49.867ms
2025-08-20 11:04:07.2202|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:04:07.2202|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 106.4246ms
2025-08-20 11:04:07.2328|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP21SGL8C] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:04:07.2328|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.2328|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 69.2091ms
2025-08-20 11:04:07.2328|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:04:07.2328|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 102.5286ms
2025-08-20 11:04:07.3031|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP21SGL8C] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:04:07.3031|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.3031|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 120.7343ms
2025-08-20 11:04:07.3031|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:04:07.3031|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 136.6249ms
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:04:07.6403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:04:07.6548|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6705|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:04:07.6705|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:04:07.6705|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:04:07.6705|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6705|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6705|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.6705|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.6881|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:04:07.6881|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:04:07.6881|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:04:07.6881|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:04:07.6881|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP21SGL8C] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:04:07.6881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.7026|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:07.7026|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP21SGL8C] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:04:07.7026|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP21SGL8C] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:04:07.7171|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP21SGL8C] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:04:07.8340|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:04:07.8340|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.8340|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 177.4375ms
2025-08-20 11:04:07.8340|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.8423|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 201.9319ms
2025-08-20 11:04:07.8702|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:04:07.8702|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 199.6842ms
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.8758|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 227.7170ms
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 202.4435ms
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.8758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 233.2714ms
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP21SGL8C] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP21SGL8C] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP21SGL8C] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:04:07.9388|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||31|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 283.3188ms
2025-08-20 11:04:07.9388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 259.0522ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 259.0506ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 263.0235ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 273.6949ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 242.7798ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 242.6504ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||31|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 296.9485ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 249.4678ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 272.8633ms
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9521|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||31|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 325.1615ms
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 312.3283ms
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 308.6803ms
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 316.5450ms
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 325.9004ms
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 271.7121ms
2025-08-20 11:04:07.9673|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP21SGL8C] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:04:07.9673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 276.4912ms
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 339.4428ms
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 283.3119ms
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 325.7848ms
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 301.3121ms
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:07.9836|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 337.4089ms
2025-08-20 11:04:35.3973|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:04:35.4278|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:04:35.5685|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:04:35.5685|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:04:35.6883|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:04:35.6883|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:04:35.6883|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:04:36.7929|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:04:37.0226|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:04:37.0302|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:04:37.0545|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88984b4a-3e97-450b-b81d-20008e5f2180
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88984b4a-3e97-450b-b81d-20008e5f2180
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:04:37.0642|ERROR|RandomCocktailHostedService||6|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88984b4a-3e97-450b-b81d-20008e5f2180
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:04:37.1332|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 115.4899ms
2025-08-20 11:04:37.1533|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:04:37.1561|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:04:37.1561|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 11.7638ms
2025-08-20 11:04:37.1990|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 45.6453ms
2025-08-20 11:04:37.4108|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:04:37.6287|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 217.9932ms
2025-08-20 11:04:39.2684|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:04:39.2684|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:04:39.2913|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:04:39.3054|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:39.3054|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP2B8SN4H] Call: GetCategoriesAsync()
2025-08-20 11:04:39.3182|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:04:39.3182|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:04:39.3182|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:04:39.3298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:39.3298|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP2B8SN4H] Call: GetTypesAsync()
2025-08-20 11:04:39.3849|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP2B8SN4H] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:04:39.3935|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:39.4055|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 92.2936ms
2025-08-20 11:04:39.4055|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:04:39.4055|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 142.0498ms
2025-08-20 11:04:39.5047|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP2B8SN4H] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:04:39.5047|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:39.5047|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 176.9885ms
2025-08-20 11:04:39.5047|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:04:39.5047|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 192.3071ms
2025-08-20 11:04:40.0264|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:04:40.0298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:04:40.0466|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0611|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:04:40.0769|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP2B8SN4H] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:04:40.0769|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:04:40.0769|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:04:40.0769|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:40.0769|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:04:40.0769|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0918|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP2B8SN4H] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0918|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP2B8SN4H] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:04:40.0918|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:04:40.0918|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP2B8SN4H] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:04:40.1354|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:04:40.1354|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.1392|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 71.8437ms
2025-08-20 11:04:40.1392|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.1392|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 94.1346ms
2025-08-20 11:04:40.1760|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:04:40.1760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.1760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 108.4654ms
2025-08-20 11:04:40.1760|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.1760|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:04:40.1760|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 131.7722ms
2025-08-20 11:04:40.1760|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:04:40.1760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.1855|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:04:40.1855|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 129.9941ms
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 131.5275ms
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 122.9194ms
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 166.4350ms
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 137.1249ms
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 172.8115ms
2025-08-20 11:04:40.1855|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2030|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2030|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 153.8826ms
2025-08-20 11:04:40.2030|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 167.8302ms
2025-08-20 11:04:40.2030|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:04:40.2030|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:04:40.2030|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2030|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2030|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 162.0898ms
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 161.6126ms
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 182.8815ms
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2176|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:04:40.2176|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 187.3375ms
2025-08-20 11:04:40.2176|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP2B8SN4H] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2176|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2341|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP2B8SN4H] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:04:40.2341|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP2B8SN4H] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:04:40.2341|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 169.9482ms
2025-08-20 11:04:40.2341|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP2B8SN4H] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:04:40.2341|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 185.008ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 155.1114ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 215.6526ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 152.3464ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 155.4162ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 189.3114ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 217.6900ms
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:40.2487|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:04:40.2647|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 178.6392ms
2025-08-20 11:04:40.2647|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:04:40.2647|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 175.6873ms
2025-08-20 11:04:40.2647|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 177.7678ms
2025-08-20 11:04:40.2647|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 221.4597ms
2025-08-20 11:06:35.6720|INFO|Microsoft.EntityFrameworkCore.Database.Command||33|Executed DbCommand (41ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:06:35.6720|ERROR|Microsoft.EntityFrameworkCore.Database.Command||33|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:06:35.6720|ERROR|Microsoft.EntityFrameworkCore.Update||33|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88984b4a-3e97-450b-b81d-20008e5f2180
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88984b4a-3e97-450b-b81d-20008e5f2180
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:06:35.6895|ERROR|RandomCocktailHostedService||33|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88984b4a-3e97-450b-b81d-20008e5f2180
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:08:36.5182|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:08:36.5537|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:08:36.7146|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:08:36.7146|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:08:36.8758|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:08:36.8758|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:08:36.8758|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:08:36.9456|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:08:37.0919|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 149.9051ms
2025-08-20 11:08:37.9155|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:08:37.9266|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 10.9450ms
2025-08-20 11:08:37.9266|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:08:37.9629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 33.2436ms
2025-08-20 11:08:38.1615|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (39ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:08:38.1814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:08:38.3390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 157.5685ms
2025-08-20 11:08:38.3807|ERROR|Microsoft.EntityFrameworkCore.Database.Command||7|Failed executing DbCommand (29ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:08:38.4031|ERROR|Microsoft.EntityFrameworkCore.Update||7|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:83e36704-7e5e-462f-991d-818054dc7615
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:83e36704-7e5e-462f-991d-818054dc7615
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:08:38.4143|ERROR|RandomCocktailHostedService||7|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:83e36704-7e5e-462f-991d-818054dc7615
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:08:39.8139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:08:39.8207|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:08:39.8322|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:08:39.8322|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:08:39.8322|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:08:39.8322|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:08:39.8553|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:39.8553|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:39.8624|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP4IOCB05] Call: GetCategoriesAsync()
2025-08-20 11:08:39.8624|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:08:39.8740|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:08:39.8740|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:08:39.8740|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:39.8883|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP4IOCB05] Call: GetTypesAsync()
2025-08-20 11:08:39.8883|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (12ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:08:39.9137|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:08:39.9276|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 63.3437ms
2025-08-20 11:08:39.9276|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:08:39.9276|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 120.4363ms
2025-08-20 11:08:39.9375|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP4IOCB05] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:08:39.9375|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:39.9375|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 85.0283ms
2025-08-20 11:08:39.9375|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:08:39.9375|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 112.4399ms
2025-08-20 11:08:39.9967|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP4IOCB05] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:08:39.9982|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:39.9982|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 113.7692ms
2025-08-20 11:08:39.9982|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:08:39.9982|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 130.3189ms
2025-08-20 11:08:40.4316|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:08:40.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4498|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:08:40.4498|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:08:40.4498|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:08:40.4498|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:08:40.4498|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.4658|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4658|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4658|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4658|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4814|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:08:40.4814|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:08:40.4814|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:08:40.4814|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP4IOCB05] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:08:40.4814|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:08:40.4968|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:08:40.4968|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4968|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4968|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:08:40.4968|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP4IOCB05] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:08:40.4968|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP4IOCB05] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:08:40.4968|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP4IOCB05] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:08:40.5448|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:08:40.5448|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.5448|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 93.238ms
2025-08-20 11:08:40.5448|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.5448|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 111.2394ms
2025-08-20 11:08:40.5807|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:08:40.5807|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.5807|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 130.9136ms
2025-08-20 11:08:40.5807|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.5913|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 153.2179ms
2025-08-20 11:08:40.5913|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:08:40.6096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6096|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 160.9611ms
2025-08-20 11:08:40.6096|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6096|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 184.8961ms
2025-08-20 11:08:40.6549|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:08:40.6697|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6697|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 197.6715ms
2025-08-20 11:08:40.6697|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 221.9183ms
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 194.0576ms
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 235.3916ms
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6697|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:08:40.6697|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:08:40.6697|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 212.2206ms
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6697|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 247.2945ms
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 237.5196ms
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 203.588ms
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 210.2013ms
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 215.8769ms
2025-08-20 11:08:40.6844|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP4IOCB05] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 253.1614ms
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6844|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 246.2105ms
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 252.4589ms
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 255.6641ms
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 199.4483ms
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:08:40.6998|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVP4IOCB05] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 226.3522ms
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 210.5691ms
2025-08-20 11:08:40.6998|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:08:40.7157|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 226.5462ms
2025-08-20 11:08:40.7157|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP4IOCB05] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:08:40.7157|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.7157|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 225.0485ms
2025-08-20 11:08:40.7157|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:08:40.7319|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 244.9213ms
2025-08-20 11:08:40.7319|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP4IOCB05] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:08:40.7319|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:08:40.7319|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 256.1112ms
2025-08-20 11:08:40.7319|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:08:40.7319|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 292.3873ms
2025-08-20 11:09:59.9471|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:09:59.9519|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:09:59.9519|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:10:00.0247|INFO|Microsoft.EntityFrameworkCore.Database.Command||24|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:10:00.0277|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:10:00.0277|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 75.6279ms
2025-08-20 11:10:00.0277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:10:00.0277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 87.3949ms
2025-08-20 11:10:36.7012|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:10:36.7012|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:10:36.7157|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:83e36704-7e5e-462f-991d-818054dc7615
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:83e36704-7e5e-462f-991d-818054dc7615
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:10:36.7157|ERROR|RandomCocktailHostedService||3|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:83e36704-7e5e-462f-991d-818054dc7615
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:11:59.0433|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:11:59.0770|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:11:59.1842|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:11:59.1842|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:11:59.2779|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:11:59.2797|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:11:59.2797|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:11:59.7237|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:11:59.8618|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 141.8280ms
2025-08-20 11:11:59.9374|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:11:59.9374|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 9.6255ms
2025-08-20 11:11:59.9374|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:12:00.0030|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 55.2242ms
2025-08-20 11:12:00.3548|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:12:00.5014|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 146.5616ms
2025-08-20 11:12:00.7531|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:12:00.8464|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:12:00.8616|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:12:00.8616|ERROR|RandomCocktailHostedService||12|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:12:03.7836|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:12:03.8002|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:12:03.8206|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:12:03.8383|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:03.8498|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:12:03.8498|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:12:03.8559|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:12:03.8559|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:03.8559|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP6F3A4HP] Call: GetCategoriesAsync()
2025-08-20 11:12:03.8559|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:12:03.8816|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:12:03.8925|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 47.9306ms
2025-08-20 11:12:03.8925|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:12:03.8925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 115.2965ms
2025-08-20 11:12:03.9381|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:12:03.9397|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:12:03.9397|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:12:03.9504|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:03.9504|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP6F3A4HP] Call: GetTypesAsync()
2025-08-20 11:12:03.9504|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP6F3A4HP] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:12:03.9504|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:03.9504|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 96.5488ms
2025-08-20 11:12:03.9504|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:12:03.9504|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 113.0540ms
2025-08-20 11:12:04.0412|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:12:04.0438|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:04.0438|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 95.2663ms
2025-08-20 11:12:04.0438|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:12:04.0438|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 111.8172ms
2025-08-20 11:12:05.3098|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:12:05.3098|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:12:05.3098|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3098|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3098|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3243|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:12:05.3413|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:12:05.3413|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:12:05.3413|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:12:05.3413|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:12:05.3413|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3413|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:12:05.3413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3413|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:12:05.3413|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:12:05.3413|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:12:05.3550|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3550|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:12:05.3550|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3550|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3723|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:12:05.3723|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:12:05.3723|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:12:05.3723|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:12:05.3878|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.3878|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.3878|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:12:05.4247|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:12:05.4247|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.4247|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:12:05.4247|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 112.2064ms
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 128.6295ms
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:12:05.4342|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP6F3A4HP] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.4342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:05.4342|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP6F3A4HP] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:12:05.4489|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:12:05.4749|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:12:05.4749|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.4749|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 139.0693ms
2025-08-20 11:12:05.4749|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.4807|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 152.7740ms
2025-08-20 11:12:05.5418|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:12:05.5418|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:12:05.5428|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 190.6488ms
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 175.9994ms
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 188.0532ms
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 205.1840ms
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 188.5275ms
2025-08-20 11:12:05.5428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 199.7100ms
2025-08-20 11:12:05.5428|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP6F3A4HP] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:12:05.5428|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 112.7406ms
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 208.1653ms
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 123.6143ms
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 225.2370ms
2025-08-20 11:12:05.5586|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 183.4296ms
2025-08-20 11:12:05.5586|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 192.5509ms
2025-08-20 11:12:05.5586|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 239.7416ms
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5734|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 252.1621ms
2025-08-20 11:12:05.5734|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 210.926ms
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 189.4864ms
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 221.0370ms
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 198.7718ms
2025-08-20 11:12:05.5734|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP6F3A4HP] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:12:05.5734|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.5963|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 152.8124ms
2025-08-20 11:12:05.5963|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:12:05.5963|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 169.8070ms
2025-08-20 11:12:05.6077|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP6F3A4HP] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:12:05.6077|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.6077|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 162.4244ms
2025-08-20 11:12:05.6077|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:12:05.6077|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 178.3912ms
2025-08-20 11:12:05.6237|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP6F3A4HP] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:12:05.6237|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:12:05.6237|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 247.3294ms
2025-08-20 11:12:05.6237|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:12:05.6237|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 254.1785ms
2025-08-20 11:12:09.6406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - - 0
2025-08-20 11:12:09.6406|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution failed.
2025-08-20 11:12:09.6406|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|Request origin https://localhost:7131 does not have permission to access the resource.
2025-08-20 11:12:09.6406|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:12:09.6629|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:12:09.8270|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:12:09.8270|ERROR|Microsoft.EntityFrameworkCore.Database.Command||14|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:12:09.8270|ERROR|Microsoft.EntityFrameworkCore.Update||14|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:12:09.8407|ERROR|Weather.api.Controllers.CocktailsController||14|RefreshRandomNowAsync error.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync(CocktailClientService client, RandomCocktailRepository repo, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\API\Controllers\CocktailsController.cs:line 500
2025-08-20 11:12:09.8407|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:12:09.8407|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 182.6781ms
2025-08-20 11:12:09.8407|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:12:09.8407|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 500 - application/json;+charset=utf-8 209.2232ms
2025-08-20 11:13:59.2419|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:13:59.2485|ERROR|Microsoft.EntityFrameworkCore.Database.Command||12|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:13:59.2485|ERROR|Microsoft.EntityFrameworkCore.Update||12|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:13:59.2485|ERROR|RandomCocktailHostedService||12|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:15:59.2638|INFO|Microsoft.EntityFrameworkCore.Database.Command||24|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:15:59.2720|ERROR|Microsoft.EntityFrameworkCore.Database.Command||24|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:15:59.2760|ERROR|Microsoft.EntityFrameworkCore.Update||24|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:15:59.2760|ERROR|RandomCocktailHostedService||24|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:16:59.4557|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - - 0
2025-08-20 11:16:59.4557|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||30|CORS policy execution failed.
2025-08-20 11:16:59.4557|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||30|Request origin https://localhost:7131 does not have permission to access the resource.
2025-08-20 11:16:59.4557|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:16:59.4557|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:16:59.5644|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:16:59.5644|ERROR|Microsoft.EntityFrameworkCore.Database.Command||30|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:16:59.5738|ERROR|Microsoft.EntityFrameworkCore.Update||30|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:16:59.5738|ERROR|Weather.api.Controllers.CocktailsController||30|RefreshRandomNowAsync error.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync(CocktailClientService client, RandomCocktailRepository repo, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\API\Controllers\CocktailsController.cs:line 500
2025-08-20 11:16:59.5738|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||30|Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:16:59.5738|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 119.7543ms
2025-08-20 11:16:59.5738|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:16:59.5738|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 500 - application/json;+charset=utf-8 130.1461ms
2025-08-20 11:17:59.1671|INFO|Microsoft.EntityFrameworkCore.Database.Command||29|Executed DbCommand (14ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:17:59.1724|ERROR|Microsoft.EntityFrameworkCore.Database.Command||29|Failed executing DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:17:59.1724|ERROR|Microsoft.EntityFrameworkCore.Update||29|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:17:59.1724|ERROR|RandomCocktailHostedService||29|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:81940124-5f8c-4ab6-9877-ff30e64229c3
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:18:03.4603|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:18:03.4881|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:18:03.5830|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:18:03.5830|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:18:03.6719|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:18:03.6719|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:18:03.6719|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:18:04.1301|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:18:04.2061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 79.3246ms
2025-08-20 11:18:04.2490|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:18:04.2490|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:18:04.2595|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 10.3058ms
2025-08-20 11:18:04.2767|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 27.5773ms
2025-08-20 11:18:04.5468|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:18:04.6428|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 95.9708ms
2025-08-20 11:18:04.8021|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:18:04.9171|ERROR|Microsoft.EntityFrameworkCore.Database.Command||9|Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:18:04.9346|ERROR|Microsoft.EntityFrameworkCore.Update||9|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:804e93d1-8144-49d9-beeb-b935ddc39905
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:804e93d1-8144-49d9-beeb-b935ddc39905
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:18:04.9346|ERROR|RandomCocktailHostedService||9|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:804e93d1-8144-49d9-beeb-b935ddc39905
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:18:05.4988|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:18:05.5082|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:18:05.5233|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:18:05.5401|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:05.5568|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:18:05.5614|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:18:05.5614|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:18:05.5614|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:05.5716|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:18:05.5716|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVP9RQJ3GR] Call: GetCategoriesAsync()
2025-08-20 11:18:05.5716|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:18:05.5931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 46.3258ms
2025-08-20 11:18:05.5931|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:18:05.5931|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 99.0279ms
2025-08-20 11:18:05.6420|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:18:05.6420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:05.6420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:18:05.6508|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP9RQJ3GR] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:18:05.6508|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:05.6508|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:05.6508|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP9RQJ3GR] Call: GetTypesAsync()
2025-08-20 11:18:05.6508|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 85.7496ms
2025-08-20 11:18:05.6508|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:18:05.6508|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 104.1641ms
2025-08-20 11:18:05.7250|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP9RQJ3GR] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:18:05.7250|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:05.7294|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 74.6461ms
2025-08-20 11:18:05.7294|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:18:05.7294|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 90.4258ms
2025-08-20 11:18:06.8978|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.8998|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:18:06.9170|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:18:06.9170|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:18:06.9170|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:18:06.9170|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9170|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9311|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9311|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9311|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9311|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:18:06.9465|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:18:06.9465|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:18:06.9465|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:06.9465|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9465|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP9RQJ3GR] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:18:06.9887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:18:06.9887|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:18:06.9887|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:18:06.9887|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:06.9940|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:06.9940|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVP9RQJ3GR] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:18:06.9940|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP9RQJ3GR] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:18:06.9940|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:07.0095|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 97.2018ms
2025-08-20 11:18:07.0095|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP9RQJ3GR] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:18:07.0095|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.0095|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 114.8181ms
2025-08-20 11:18:07.0604|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:18:07.0604|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.0604|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 150.2426ms
2025-08-20 11:18:07.0604|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.0604|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 161.0677ms
2025-08-20 11:18:07.0788|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:18:07.0788|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.0788|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 160.9688ms
2025-08-20 11:18:07.0788|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.0788|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 170.6305ms
2025-08-20 11:18:07.0876|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:18:07.0876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.0876|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 152.1734ms
2025-08-20 11:18:07.0876|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.0876|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 161.7350ms
2025-08-20 11:18:07.1079|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:18:07.1079|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1079|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 180.5364ms
2025-08-20 11:18:07.1079|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1079|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 193.5730ms
2025-08-20 11:18:07.1079|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:18:07.1079|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 185.8124ms
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 197.2446ms
2025-08-20 11:18:07.1191|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:18:07.1191|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVP9RQJ3GR] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 168.5382ms
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 119.8398ms
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:07.1191|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:18:07.1191|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 179.3120ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 134.3566ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1342|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:18:07.1342|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVP9RQJ3GR] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 223.0248ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1342|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 187.2196ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 139.2846ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 237.5417ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 199.0297ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 200.7540ms
2025-08-20 11:18:07.1342|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 158.0481ms
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 211.7820ms
2025-08-20 11:18:07.1502|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVP9RQJ3GR] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 204.2585ms
2025-08-20 11:18:07.1502|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVP9RQJ3GR] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 215.4573ms
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 157.2649ms
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:07.1502|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 173.9171ms
2025-08-20 11:18:21.0219|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:18:21.0635|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:18:21.2165|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:18:21.2165|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:18:21.3430|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:18:21.3430|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:18:21.3430|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:18:21.6670|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:18:21.8329|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 172.7172ms
2025-08-20 11:18:21.8513|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:18:21.8513|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:18:21.8617|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 10.3143ms
2025-08-20 11:18:21.8940|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 42.7145ms
2025-08-20 11:18:22.1137|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:18:22.2166|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 102.8162ms
2025-08-20 11:18:22.5270|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:18:22.6483|ERROR|Microsoft.EntityFrameworkCore.Database.Command||7|Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:18:22.6690|ERROR|Microsoft.EntityFrameworkCore.Update||7|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:18:22.6690|ERROR|RandomCocktailHostedService||7|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:18:24.3062|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:18:24.3183|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:24.3380|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:18:24.3543|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:24.3543|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:18:24.3543|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:18:24.3707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:18:24.3707|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:24.3707|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPA11OKF4] Call: GetCategoriesAsync()
2025-08-20 11:18:24.3976|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:18:24.4059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:18:24.4187|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 57.971ms
2025-08-20 11:18:24.4187|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:18:24.4187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 120.9606ms
2025-08-20 11:18:24.4417|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPA11OKF4] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:18:24.4417|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 68.734ms
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 88.3435ms
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:18:24.4472|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:24.4628|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] Call: GetTypesAsync()
2025-08-20 11:18:24.5183|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:18:24.5183|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:24.5183|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 60.384ms
2025-08-20 11:18:24.5183|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:18:24.5251|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 77.8136ms
2025-08-20 11:18:25.6775|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:18:25.6775|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:18:25.6775|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.6855|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.6855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:18:25.6855|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:25.6855|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:18:25.6855|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.6855|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:18:25.6976|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.6976|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.6976|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.6976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:18:25.6976|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:18:25.6976|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:18:25.6976|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:18:25.6976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:18:25.6976|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:18:25.7135|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:18:25.7135|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7135|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7135|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:18:25.7288|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7288|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:18:25.7288|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:18:25.7436|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7436|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7436|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.7596|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPA11OKF4] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:18:25.7596|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:18:25.7596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.7596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 84.9651ms
2025-08-20 11:18:25.7596|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.7596|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 96.5671ms
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:18:25.7955|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:18:25.8059|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:18:25.8059|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPA11OKF4] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:18:25.8059|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPA11OKF4] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:18:25.8059|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:18:25.8059|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 120.5684ms
2025-08-20 11:18:25.8059|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 87.1102ms
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 134.8848ms
2025-08-20 11:18:25.8214|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 95.3925ms
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 102.2279ms
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 112.0595ms
2025-08-20 11:18:25.8214|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 112.3772ms
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8214|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 121.6881ms
2025-08-20 11:18:25.8380|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 136.7698ms
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8380|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 150.6556ms
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 132.7934ms
2025-08-20 11:18:25.8380|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:18:25.8380|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 100.8764ms
2025-08-20 11:18:25.8380|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 149.2724ms
2025-08-20 11:18:25.8529|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 112.0616ms
2025-08-20 11:18:25.8529|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8529|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.8529|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 112.1624ms
2025-08-20 11:18:25.8529|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 123.6313ms
2025-08-20 11:18:25.8937|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPA11OKF4] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:18:25.8937|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:18:25.8937|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPA11OKF4] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:18:25.8937|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8937|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8937|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.8937|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 88.601ms
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 141.4655ms
2025-08-20 11:18:25.9003|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPA11OKF4] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 156.8042ms
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 104.0849ms
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 155.6118ms
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 174.3059ms
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 99.7764ms
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:25.9003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 115.8781ms
2025-08-20 11:18:25.9448|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPA11OKF4] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:18:25.9448|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:18:25.9475|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 140.652ms
2025-08-20 11:18:25.9475|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:18:25.9475|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 153.6516ms
2025-08-20 11:20:14.7625|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - - 0
2025-08-20 11:20:14.7625|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||3|CORS policy execution failed.
2025-08-20 11:20:14.7625|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||3|Request origin https://localhost:7131 does not have permission to access the resource.
2025-08-20 11:20:14.7625|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:20:14.7763|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:20:14.9894|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:20:14.9974|ERROR|Microsoft.EntityFrameworkCore.Database.Command||7|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:20:14.9974|ERROR|Microsoft.EntityFrameworkCore.Update||7|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:20:14.9974|ERROR|Weather.api.Controllers.CocktailsController||7|RefreshRandomNowAsync error.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync(CocktailClientService client, RandomCocktailRepository repo, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\API\Controllers\CocktailsController.cs:line 500
2025-08-20 11:20:15.0117|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:20:15.0117|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 237.1045ms
2025-08-20 11:20:15.0117|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:20:15.0117|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 500 - application/json;+charset=utf-8 255.0768ms
2025-08-20 11:20:21.1426|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:20:21.1426|ERROR|Microsoft.EntityFrameworkCore.Database.Command||3|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:20:21.1489|ERROR|Microsoft.EntityFrameworkCore.Update||3|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:20:21.1489|ERROR|RandomCocktailHostedService||3|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:22:21.2450|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:22:21.2518|ERROR|Microsoft.EntityFrameworkCore.Database.Command||22|Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:22:21.2518|ERROR|Microsoft.EntityFrameworkCore.Update||22|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:22:21.2600|ERROR|RandomCocktailHostedService||22|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:24:21.2901|INFO|Microsoft.EntityFrameworkCore.Database.Command||23|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:24:21.2901|ERROR|Microsoft.EntityFrameworkCore.Database.Command||23|Failed executing DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([Id], [DrinkId], [Name], [ThumbUrl])
VALUES (@p0, @p1, @p2, @p3);
2025-08-20 11:24:21.2901|ERROR|Microsoft.EntityFrameworkCore.Update||23|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-20 11:24:21.2901|ERROR|RandomCocktailHostedService||23|Error en RandomCocktailHostedService|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar un valor explícito en la columna de identidad de la tabla 'RandomCocktails' cuando IDENTITY_INSERT es OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:a3a42c99-343c-4852-b515-be6daba384ff
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.RandomCocktailRepository.AddOrUpdateAsync(RandomCocktail row, CancellationToken ct) in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Repositories\RandomCocktailRepository.cs:line 34
   at RandomCocktailHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\BlazorCocktails\Infraestructura\Services\RandomCocktailHostedService.cs:line 41
2025-08-20 11:24:29.7651|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:24:29.8008|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:24:29.9024|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:24:29.9024|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:24:29.9828|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:24:29.9843|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:24:29.9843|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:24:30.5012|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:24:30.6148|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 117.0067ms
2025-08-20 11:24:30.6396|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:24:30.6396|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:24:30.6508|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 11.1664ms
2025-08-20 11:24:30.6715|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 31.9173ms
2025-08-20 11:24:30.8307|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:24:30.9537|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 122.9434ms
2025-08-20 11:24:34.0529|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:24:34.0610|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:24:34.0747|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:24:34.0910|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:34.1053|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:24:34.1053|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:24:34.1053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:24:34.1053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:34.1187|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDEVBJ5A] Call: GetCategoriesAsync()
2025-08-20 11:24:34.1912|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:24:34.1912|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:24:34.1963|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:24:34.1963|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:34.1963|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDEVBJ5A] Call: GetTypesAsync()
2025-08-20 11:24:34.3457|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:24:34.3457|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDEVBJ5A] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:24:34.3558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:34.3558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:34.3558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 159.9081ms
2025-08-20 11:24:34.3558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 243.8648ms
2025-08-20 11:24:34.3558|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:24:34.3669|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:24:34.3669|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 177.5909ms
2025-08-20 11:24:34.3669|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 263.5378ms
2025-08-20 11:24:34.8417|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:24:34.8417|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:24:34.8654|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing NotFoundObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-08-20 11:24:34.8694|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 776.3256ms
2025-08-20 11:24:34.8694|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:24:34.8694|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 404 - application/json;+charset=utf-8 827.0212ms
2025-08-20 11:24:34.9830|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RandomCocktails] ([DrinkId], [Name], [ThumbUrl])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-08-20 11:24:35.4595|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.4615|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.4823|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPDEVBJ5A] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:24:35.4823|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:24:35.4823|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDEVBJ5A] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:24:35.5044|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:24:35.5044|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5079|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:24:35.5079|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5079|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:24:35.5231|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5231|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:24:35.5231|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:24:35.5231|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5400|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:24:35.5400|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPDEVBJ5A] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.5400|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDEVBJ5A] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.5400|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5400|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 78.8048ms
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 82.5335ms
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:24:35.5545|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 93.8563ms
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 99.8344ms
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5545|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:24:35.5696|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:24:35.5696|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5696|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5696|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:24:35.5696|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:24:35.5696|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:24:35.5696|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.5696|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:35.5696|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDEVBJ5A] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:24:35.5946|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:24:35.5946|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.5946|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 123.8884ms
2025-08-20 11:24:35.5946|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:24:35.5946|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 140.1998ms
2025-08-20 11:24:35.6114|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:24:35.6114|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6114|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 99.6874ms
2025-08-20 11:24:35.6114|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6114|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 110.6082ms
2025-08-20 11:24:35.6488|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:24:35.6488|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6488|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 122.5925ms
2025-08-20 11:24:35.6488|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6488|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 131.3038ms
2025-08-20 11:24:35.6488|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:24:35.6488|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 140.2838ms
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 149.9225ms
2025-08-20 11:24:35.6643|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:24:35.6643|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6643|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 106.5229ms
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6643|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6643|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 142.5531ms
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 137.938ms
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 117.7979ms
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 128.8711ms
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 151.3942ms
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 150.6976ms
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 141.6312ms
2025-08-20 11:24:35.6789|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:24:35.6789|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 175.0165ms
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 183.0303ms
2025-08-20 11:24:35.6944|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 126.7712ms
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.6944|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 135.7334ms
2025-08-20 11:24:35.6944|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:24:35.7107|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.7107|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 152.3001ms
2025-08-20 11:24:35.7107|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.7107|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 165.4141ms
2025-08-20 11:24:35.7107|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPDEVBJ5A] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:24:35.7347|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:24:35.7347|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 161.286ms
2025-08-20 11:24:35.7347|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:24:35.7347|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 171.1386ms
2025-08-20 11:24:36.9063|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - - 0
2025-08-20 11:24:36.9063|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution failed.
2025-08-20 11:24:36.9063|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|Request origin https://localhost:7131 does not have permission to access the resource.
2025-08-20 11:24:36.9136|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:24:36.9136|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:24:37.0424|INFO|Microsoft.EntityFrameworkCore.Database.Command||25|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:24:37.0681|INFO|Microsoft.EntityFrameworkCore.Database.Command||25|Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:24:37.0741|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:24:37.0741|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 155.1985ms
2025-08-20 11:24:37.0741|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:24:37.0741|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 172.5814ms
2025-08-20 11:25:03.6290|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:25:03.6608|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:25:03.8274|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:25:03.8274|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:25:03.9784|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:25:03.9784|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:25:03.9784|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:25:03.9784|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:25:04.1146|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 137.7166ms
2025-08-20 11:25:04.2312|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:25:04.2767|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 45.4179ms
2025-08-20 11:25:04.3789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:25:04.3897|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 10.7560ms
2025-08-20 11:25:04.5604|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:25:04.7494|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 188.9408ms
2025-08-20 11:25:05.6406|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (44ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:25:05.8793|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (27ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:25:06.7353|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:25:06.7441|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:25:06.7441|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:25:06.7630|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:25:06.7630|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:25:06.7630|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:25:06.7868|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:06.7868|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:06.7937|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPDOUCF2J] Call: GetCategoriesAsync()
2025-08-20 11:25:06.8040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:25:06.8040|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:25:06.8040|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:25:06.8040|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:06.8201|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDOUCF2J] Call: GetTypesAsync()
2025-08-20 11:25:06.8413|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:25:06.8413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:25:06.8605|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 65.1151ms
2025-08-20 11:25:06.8605|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:25:06.8675|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDOUCF2J] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:25:06.8675|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 132.8037ms
2025-08-20 11:25:06.8675|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:06.8675|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 84.491ms
2025-08-20 11:25:06.8675|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:25:06.8675|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 118.4336ms
2025-08-20 11:25:06.9255|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDOUCF2J] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:25:06.9255|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:06.9292|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 110.7992ms
2025-08-20 11:25:06.9292|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:25:06.9292|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 127.6707ms
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.3996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||10|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||16|CORS policy execution successful.
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||10|CORS policy execution successful.
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||16|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||10|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||16|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:25:07.4137|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||10|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4293|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:25:07.4293|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:25:07.4293|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:25:07.4293|INFO|Weather.api.Controllers.CocktailsController||16|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:25:07.4293|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.4293|INFO|Weather.api.Controllers.CocktailsController||10|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4293|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4451|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:25:07.4451|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4451|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4451|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:25:07.4451|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:25:07.4451|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:25:07.4451|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:25:07.4451|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDOUCF2J] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:25:07.4451|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:25:07.4451|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||16|CORS policy execution successful.
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||16|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:25:07.4629|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDOUCF2J] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:25:07.4629|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||16|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:25:07.4760|INFO|Weather.api.Controllers.CocktailsController||16|[0HNEVPDOUCF2J] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:25:07.4760|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDOUCF2J] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:25:07.4991|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:25:07.4991|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.4991|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 79.2982ms
2025-08-20 11:25:07.4991|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.5082|INFO|Weather.api.Controllers.CocktailsController||16|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:25:07.5082|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 100.4919ms
2025-08-20 11:25:07.5082|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||16|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.5082|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||16|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 92.5467ms
2025-08-20 11:25:07.5082|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||16|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.5082|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 115.8268ms
2025-08-20 11:25:07.5475|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:25:07.5475|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.5542|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 117.4539ms
2025-08-20 11:25:07.5542|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.5542|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 146.0648ms
2025-08-20 11:25:07.5906|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:25:07.5906|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.5906|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 151.0734ms
2025-08-20 11:25:07.5906|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.5906|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 183.1941ms
2025-08-20 11:25:07.6162|INFO|Weather.api.Controllers.CocktailsController||16|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:25:07.6162|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:25:07.6162|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:25:07.6162|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPDOUCF2J] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:25:07.6173|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||16|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6173|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||16|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 177.2636ms
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 205.487ms
2025-08-20 11:25:07.6173|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 210.1541ms
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 153.6087ms
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 181.6829ms
2025-08-20 11:25:07.6173|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPDOUCF2J] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:25:07.6173|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||16|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6330|INFO|Weather.api.Controllers.CocktailsController||10|[0HNEVPDOUCF2J] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||10|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 182.3632ms
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 175.6147ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 236.6868ms
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 194.9169ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 177.5839ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 249.6473ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 187.8437ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 231.7211ms
2025-08-20 11:25:07.6330|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 222.2050ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 192.7017ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 237.1366ms
2025-08-20 11:25:07.6480|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:25:07.6632|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPDOUCF2J] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:25:07.6632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 243.5662ms
2025-08-20 11:25:07.6632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 216.5445ms
2025-08-20 11:25:07.6632|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:25:07.6632|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 242.413ms
2025-08-20 11:25:07.6632|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:25:07.6632|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 266.4703ms
2025-08-20 11:27:03.9272|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:27:03.9375|INFO|Microsoft.EntityFrameworkCore.Database.Command||32|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:29:03.8646|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:29:03.8771|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (10ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:29:04.7710|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:29:04.7710|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||27|CORS policy execution successful.
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||19|CORS policy execution successful.
2025-08-20 11:29:04.7710|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||27|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||33|CORS policy execution successful.
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||27|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:29:04.7743|INFO|Weather.api.Controllers.CocktailsController||19|[0HNEVPDOUCF2K] Call: GetCategoriesAsync()
2025-08-20 11:29:04.7743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.7743|INFO|Weather.api.Controllers.CocktailsController||33|[0HNEVPDOUCF2K] Call: GetTypesAsync()
2025-08-20 11:29:04.7743|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:29:04.7902|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||27|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:29:04.7902|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||27|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 9.493ms
2025-08-20 11:29:04.7902|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||27|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:29:04.7902|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 23.3921ms
2025-08-20 11:29:04.8425|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:29:04.8425|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:04.8425|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 62.5989ms
2025-08-20 11:29:04.8425|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:29:04.8509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 79.7372ms
2025-08-20 11:29:04.8509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:29:04.8509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:29:04.8509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:29:04.8509|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||3|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||37|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||27|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||36|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||33|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||35|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||40|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||37|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||39|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||34|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||19|CORS policy execution successful.
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||27|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8653|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||36|CORS policy execution successful.
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||40|CORS policy execution successful.
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||37|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||39|CORS policy execution successful.
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||34|CORS policy execution successful.
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||27|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||36|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||40|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8810|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||37|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||39|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||34|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||27|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||36|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||33|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||40|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||37|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||39|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||34|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||19|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:29:04.8966|INFO|Weather.api.Controllers.CocktailsController||36|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:29:04.9130|INFO|Weather.api.Controllers.CocktailsController||40|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:29:04.9130|INFO|Weather.api.Controllers.CocktailsController||39|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:29:04.9130|INFO|Weather.api.Controllers.CocktailsController||34|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:29:04.9130|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 130.9665ms
2025-08-20 11:29:04.9130|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:29:04.9130|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 154.2771ms
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||37|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||37|CORS policy execution successful.
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||35|CORS policy execution successful.
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||37|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||37|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.9292|INFO|Weather.api.Controllers.CocktailsController||37|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:29:04.9292|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:29:04.9292|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:04.9292|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:29:04.9623|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:29:04.9623|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:04.9623|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||37|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 72.745ms
2025-08-20 11:29:04.9623|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||37|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:04.9623|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||37|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 105.8312ms
2025-08-20 11:29:04.9988|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:29:04.9997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:04.9997|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 102.9046ms
2025-08-20 11:29:04.9997|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0065|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 143.7282ms
2025-08-20 11:29:05.0065|INFO|Weather.api.Controllers.CocktailsController||19|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:29:05.0344|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||19|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0344|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 127.8082ms
2025-08-20 11:29:05.0388|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0388|INFO|Weather.api.Controllers.CocktailsController||39|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:29:05.0388|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 174.3220ms
2025-08-20 11:29:05.0388|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:29:05.0388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||39|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||35|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||39|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 139.5829ms
2025-08-20 11:29:05.0538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||39|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0538|INFO|Weather.api.Controllers.CocktailsController||36|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:29:05.0388|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 146.9375ms
2025-08-20 11:29:05.0538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||39|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 187.4653ms
2025-08-20 11:29:05.0538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||36|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0538|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:29:05.0538|INFO|Weather.api.Controllers.CocktailsController||19|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:29:05.0538|INFO|Weather.api.Controllers.CocktailsController||27|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:29:05.0538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 164.9338ms
2025-08-20 11:29:05.0538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 197.7643ms
2025-08-20 11:29:05.0689|INFO|Weather.api.Controllers.CocktailsController||39|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:29:05.0689|INFO|Weather.api.Controllers.CocktailsController||40|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||19|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0689|INFO|Weather.api.Controllers.CocktailsController||37|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||27|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0689|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0689|INFO|Weather.api.Controllers.CocktailsController||36|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||39|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||40|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 166.0547ms
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 166.1135ms
2025-08-20 11:29:05.0689|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||37|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||27|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 182.1977ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 221.9326ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||36|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||39|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 177.1531ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 191.0425ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||40|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 155.6015ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||27|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 153.3124ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 159.8605ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||39|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 222.0669ms
2025-08-20 11:29:05.0849|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 222.8634ms
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||40|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 235.6100ms
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||39|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 229.0741ms
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 241.1563ms
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||40|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 178.5537ms
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 184.3555ms
2025-08-20 11:29:05.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 185.2844ms
2025-08-20 11:29:21.8790|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:29:21.8790|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||35|CORS policy execution successful.
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:21.8818|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||35|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 4.3036ms
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 11.4235ms
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||39|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:29:21.8818|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||39|CORS policy execution successful.
2025-08-20 11:29:21.8969|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||39|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:29:21.8969|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||39|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:21.8969|INFO|Weather.api.Controllers.CocktailsController||39|[0HNEVPDOUCF2K] Call: GetCategoriesAsync()
2025-08-20 11:29:21.8969|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:29:21.9123|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||35|CORS policy execution successful.
2025-08-20 11:29:21.9123|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:29:21.9123|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:21.9123|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] Call: GetTypesAsync()
2025-08-20 11:29:21.9558|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:29:21.9558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||35|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:21.9558|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 59.4902ms
2025-08-20 11:29:21.9596|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:29:21.9596|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 66.1642ms
2025-08-20 11:29:21.9596|INFO|Weather.api.Controllers.CocktailsController||40|[0HNEVPDOUCF2K] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:29:21.9596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||40|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:21.9596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||40|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 54.3399ms
2025-08-20 11:29:21.9596|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||40|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:29:21.9596|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||40|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 59.7611ms
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||27|CORS policy execution successful.
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||40|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||27|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||40|CORS policy execution successful.
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||35|CORS policy execution successful.
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||36|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||27|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||34|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||3|CORS policy execution successful.
2025-08-20 11:29:22.1546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||47|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||36|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Weather.api.Controllers.CocktailsController||27|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||34|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||33|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||19|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||40|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||47|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||36|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||34|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||40|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||47|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||36|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||34|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||40|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||47|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||36|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||34|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:29:22.1785|INFO|Weather.api.Controllers.CocktailsController||33|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:29:22.1948|INFO|Weather.api.Controllers.CocktailsController||19|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:29:22.1948|INFO|Weather.api.Controllers.CocktailsController||47|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:29:22.1948|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:29:22.1948|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||47|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:29:22.1948|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||47|CORS policy execution successful.
2025-08-20 11:29:22.1948|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:29:22.1948|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:29:22.1948|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||47|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||33|CORS policy execution successful.
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||47|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:22.2091|INFO|Weather.api.Controllers.CocktailsController||47|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.2091|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:29:22.2091|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:29:22.2091|INFO|Weather.api.Controllers.CocktailsController||33|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:29:22.2356|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:29:22.2356|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2356|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 71.8452ms
2025-08-20 11:29:22.2356|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2356|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 84.9419ms
2025-08-20 11:29:22.2434|INFO|Weather.api.Controllers.CocktailsController||33|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||33|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 67.0714ms
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 86.8539ms
2025-08-20 11:29:22.2434|INFO|Weather.api.Controllers.CocktailsController||47|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||47|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 62.6478ms
2025-08-20 11:29:22.2434|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 95.1380ms
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||19|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||47|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||40|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||19|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||47|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||40|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||33|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 72.048ms
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||47|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 71.7342ms
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||34|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||40|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 85.7977ms
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||33|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||49|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:29:22.2562|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||47|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 83.0607ms
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||34|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2562|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||40|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||33|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 87.5683ms
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 113.8068ms
2025-08-20 11:29:22.2731|INFO|Weather.api.Controllers.CocktailsController||36|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||49|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||47|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 115.9893ms
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2731|INFO|Weather.api.Controllers.CocktailsController||35|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||34|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 80.9786ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||35|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||33|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||36|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||49|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 86.941ms
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||37|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 90.0154ms
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 129.8057ms
2025-08-20 11:29:22.2731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||40|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 123.3722ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||34|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||35|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 69.6364ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||33|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 132.0939ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 76.7595ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||49|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||37|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||34|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 131.7017ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||35|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||49|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 135.2508ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||37|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 142.2987ms
2025-08-20 11:29:22.2877|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||35|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 94.7453ms
2025-08-20 11:29:22.3027|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 96.8864ms
2025-08-20 11:29:22.3027|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:29:22.3027|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:29:22.3027|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 90.3581ms
2025-08-20 11:29:22.3027|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:29:22.3027|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 104.2460ms
2025-08-20 11:30:01.6018|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:30:01.6036|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:30:01.6036|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:30:01.6036|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.6181|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetCategoriesAsync()
2025-08-20 11:30:01.6181|INFO|Microsoft.EntityFrameworkCore.Database.Command||38|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 20.394ms
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:30:01.6181|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 26.7300ms
2025-08-20 11:30:01.6420|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:30:01.6420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:30:01.6420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:30:01.6420|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.6420|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetTypesAsync()
2025-08-20 11:30:01.6845|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:30:01.6845|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||38|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.6845|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 63.8852ms
2025-08-20 11:30:01.6845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:30:01.6845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 70.7513ms
2025-08-20 11:30:01.7208|INFO|Weather.api.Controllers.CocktailsController||51|[0HNEVPDOUCF2K] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:30:01.7208|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||51|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.7208|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||51|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 77.4969ms
2025-08-20 11:30:01.7208|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||51|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:30:01.7246|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||51|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 82.4718ms
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||51|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||3|CORS policy execution successful.
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||54|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||53|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||51|CORS policy execution successful.
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||52|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||55|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||50|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:30:01.8572|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||54|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||57|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||56|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||53|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||51|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||52|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||55|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||50|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||54|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||57|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||56|CORS policy execution successful.
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||53|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||51|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||52|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8659|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:30:01.8659|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:30:01.8659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||58|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||55|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||50|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||54|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||57|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||56|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||53|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8809|INFO|Weather.api.Controllers.CocktailsController||51|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||52|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||58|CORS policy execution successful.
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||55|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8809|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||50|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||54|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||57|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||38|CORS policy execution successful.
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||56|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||53|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||52|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||3|CORS policy execution successful.
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||58|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||55|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||50|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||57|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:30:01.9151|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:30:01.8966|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||58|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.8966|INFO|Weather.api.Controllers.CocktailsController||56|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:30:01.9151|INFO|Weather.api.Controllers.CocktailsController||38|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:30:01.9151|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:30:01.9151|INFO|Weather.api.Controllers.CocktailsController||58|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:30:01.9151|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:30:01.9453|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:30:01.9460|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9460|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||38|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 67.9309ms
2025-08-20 11:30:01.9460|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||38|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9460|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||38|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 90.5261ms
2025-08-20 11:30:01.9460|INFO|Weather.api.Controllers.CocktailsController||56|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:30:01.9460|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||56|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9460|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||56|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 83.139ms
2025-08-20 11:30:01.9596|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||56|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9596|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||56|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 103.2397ms
2025-08-20 11:30:01.9596|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:30:01.9596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 77.7047ms
2025-08-20 11:30:01.9596|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9596|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 108.6654ms
2025-08-20 11:30:01.9596|INFO|Weather.api.Controllers.CocktailsController||58|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||58|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||58|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 71.3198ms
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||58|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||58|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 113.3826ms
2025-08-20 11:30:01.9747|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||56|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 87.6581ms
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||56|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9747|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:30:01.9747|INFO|Weather.api.Controllers.CocktailsController||58|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||56|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 125.0293ms
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||58|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||50|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 110.6605ms
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||58|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 92.2171ms
2025-08-20 11:30:01.9747|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||50|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||58|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9931|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||50|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 134.3875ms
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||58|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 132.8116ms
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 89.5134ms
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 134.2326ms
2025-08-20 11:30:01.9931|INFO|Weather.api.Controllers.CocktailsController||58|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:30:01.9931|INFO|Weather.api.Controllers.CocktailsController||53|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:30:01.9931|INFO|Weather.api.Controllers.CocktailsController||57|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||58|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||53|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||57|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:01.9931|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||58|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 97.7282ms
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||53|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 105.811ms
2025-08-20 11:30:02.0069|INFO|Weather.api.Controllers.CocktailsController||3|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:30:02.0069|INFO|Weather.api.Controllers.CocktailsController||50|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||55|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 92.1604ms
2025-08-20 11:30:02.0069|INFO|Weather.api.Controllers.CocktailsController||56|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||58|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||53|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||3|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||50|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||55|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||56|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||58|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 149.2510ms
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||53|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 153.2529ms
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 97.1369ms
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||50|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 112.0151ms
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||55|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 133.0483ms
2025-08-20 11:30:02.0069|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||56|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 102.5334ms
2025-08-20 11:30:02.0235|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:30:02.0235|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||50|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:30:02.0235|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||56|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:30:02.0235|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 133.8146ms
2025-08-20 11:30:02.0235|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||50|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 163.9571ms
2025-08-20 11:30:02.0235|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||56|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 149.0298ms
2025-08-20 11:31:03.7639|INFO|Microsoft.EntityFrameworkCore.Database.Command||61|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:31:03.7639|INFO|Microsoft.EntityFrameworkCore.Database.Command||61|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:31:52.7222|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||59|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||59|CORS policy execution successful.
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||59|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||59|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||59|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||59|CORS policy execution successful.
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||59|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:31:52.7239|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||59|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:52.7400|INFO|Weather.api.Controllers.CocktailsController||59|[0HNEVPDOUCF2K] Call: GetCategoriesAsync()
2025-08-20 11:31:52.7400|INFO|Microsoft.EntityFrameworkCore.Database.Command||59|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:31:52.7400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||59|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:31:52.7400|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||59|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 23.412ms
2025-08-20 11:31:52.7400|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||59|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:31:52.7400|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||59|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 31.0873ms
2025-08-20 11:31:52.7578|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||44|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:31:52.7578|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||44|CORS policy execution successful.
2025-08-20 11:31:52.7578|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||44|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:31:52.7578|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||44|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:52.7578|INFO|Weather.api.Controllers.CocktailsController||44|[0HNEVPDOUCF2K] Call: GetTypesAsync()
2025-08-20 11:31:52.8019|INFO|Weather.api.Controllers.CocktailsController||28|[0HNEVPDOUCF2K] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:31:52.8031|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||28|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:52.8031|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||28|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 64.139ms
2025-08-20 11:31:52.8031|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||28|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:31:52.8031|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||28|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 71.4566ms
2025-08-20 11:31:52.8560|INFO|Weather.api.Controllers.CocktailsController||44|[0HNEVPDOUCF2K] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:31:52.8560|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||44|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:52.8560|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||44|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 96.7015ms
2025-08-20 11:31:52.8560|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||44|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:31:52.8560|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||44|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 103.1659ms
2025-08-20 11:31:52.9890|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||45|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||45|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||45|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||61|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||28|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||45|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||44|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||61|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||59|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||41|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||28|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||62|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:31:52.9918|INFO|Weather.api.Controllers.CocktailsController||45|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||64|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||65|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||65|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||66|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||61|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||59|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||41|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||28|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||62|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||63|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||64|CORS policy execution successful.
2025-08-20 11:31:52.9918|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||44|CORS policy execution successful.
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||65|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||66|CORS policy execution successful.
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||61|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||59|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||45|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||41|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||28|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||62|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||64|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||44|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||65|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||67|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||66|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0053|INFO|Weather.api.Controllers.CocktailsController||61|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||59|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||45|CORS policy execution successful.
2025-08-20 11:31:53.0053|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||41|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||28|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||62|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||64|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||44|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||65|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||67|CORS policy execution successful.
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||66|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||61|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||59|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:31:53.0213|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||45|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||41|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||62|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||63|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:31:53.0213|INFO|Weather.api.Controllers.CocktailsController||64|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:31:53.0370|INFO|Weather.api.Controllers.CocktailsController||44|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:31:53.0370|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||67|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:31:53.0370|INFO|Weather.api.Controllers.CocktailsController||66|[0HNEVPDOUCF2K] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:31:53.0370|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||61|CORS policy execution successful.
2025-08-20 11:31:53.0370|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||45|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0370|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||67|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0370|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||61|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:31:53.0370|INFO|Weather.api.Controllers.CocktailsController||45|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:31:53.0370|INFO|Weather.api.Controllers.CocktailsController||67|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:31:53.0370|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||61|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:31:53.0547|INFO|Weather.api.Controllers.CocktailsController||61|[0HNEVPDOUCF2K] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:31:53.0547|INFO|Weather.api.Controllers.CocktailsController||61|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:31:53.0547|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||61|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.0547|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||62|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 68.3704ms
2025-08-20 11:31:53.0547|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||62|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.0683|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||62|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 79.2510ms
2025-08-20 11:31:53.1226|INFO|Weather.api.Controllers.CocktailsController||41|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:31:53.1226|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||41|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1226|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 103.264ms
2025-08-20 11:31:53.1226|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1226|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 133.1463ms
2025-08-20 11:31:53.1359|INFO|Weather.api.Controllers.CocktailsController||63|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:31:53.1359|INFO|Weather.api.Controllers.CocktailsController||59|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||63|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||59|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 113.274ms
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||41|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 121.8276ms
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||41|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 143.7731ms
2025-08-20 11:31:53.1359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||41|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 149.0114ms
2025-08-20 11:31:53.1592|INFO|Weather.api.Controllers.CocktailsController||63|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:31:53.1592|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||63|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1592|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 128.0103ms
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 165.9593ms
2025-08-20 11:31:53.1616|INFO|Weather.api.Controllers.CocktailsController||63|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||63|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 131.2784ms
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 170.6263ms
2025-08-20 11:31:53.1616|INFO|Weather.api.Controllers.CocktailsController||66|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||66|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1616|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||62|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 145.5132ms
2025-08-20 11:31:53.1777|INFO|Weather.api.Controllers.CocktailsController||63|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||62|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1777|INFO|Weather.api.Controllers.CocktailsController||66|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||63|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||62|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 184.7375ms
2025-08-20 11:31:53.1777|INFO|Weather.api.Controllers.CocktailsController||59|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||66|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 146.2592ms
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||59|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||66|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 146.2416ms
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||59|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 137.5648ms
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||66|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 195.6927ms
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||59|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:31:53.1777|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||66|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 194.2591ms
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||59|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 177.8902ms
2025-08-20 11:31:53.1945|INFO|Weather.api.Controllers.CocktailsController||63|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:31:53.1945|INFO|Weather.api.Controllers.CocktailsController||62|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:31:53.1945|INFO|Weather.api.Controllers.CocktailsController||41|[0HNEVPDOUCF2K] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||63|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||62|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||41|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||63|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 165.698ms
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||66|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 150.0355ms
2025-08-20 11:31:53.1945|INFO|Weather.api.Controllers.CocktailsController||44|[0HNEVPDOUCF2K] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||62|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 171.2281ms
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||63|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||66|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||44|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||62|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||63|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 207.7651ms
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||66|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 197.7888ms
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||44|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 152.909ms
2025-08-20 11:31:53.1945|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||62|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 212.1451ms
2025-08-20 11:31:53.2118|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||44|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:31:53.2118|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||44|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 183.0716ms
2025-08-20 11:33:03.7655|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:33:03.7989|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (30ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:35:03.9524|INFO|Microsoft.EntityFrameworkCore.Database.Command||73|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:35:03.9626|INFO|Microsoft.EntityFrameworkCore.Database.Command||73|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:37:03.8137|INFO|Microsoft.EntityFrameworkCore.Database.Command||79|Executed DbCommand (25ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:37:03.8234|INFO|Microsoft.EntityFrameworkCore.Database.Command||79|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:37:53.4414|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:37:53.4797|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:37:53.6255|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:37:53.6255|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:37:53.7492|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:37:53.7585|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:37:53.7585|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:37:53.7585|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:37:53.8662|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 121.4641ms
2025-08-20 11:37:54.5975|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:37:54.5974|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:37:54.6110|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 13.3858ms
2025-08-20 11:37:54.6313|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 33.8221ms
2025-08-20 11:37:54.8215|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:37:54.9447|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (16ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:37:55.0382|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:37:55.1327|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 94.4791ms
2025-08-20 11:37:56.1581|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:37:56.1581|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:37:56.1659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:37:56.1659|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:37:56.1814|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:37:56.1814|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:37:56.1814|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:37:56.1814|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:37:56.1814|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:37:56.2006|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.2006|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.2006|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.2006|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPKUBFHKF] Call: GetCategoriesAsync()
2025-08-20 11:37:56.2006|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPKUBFHKF] Call: GetTypesAsync()
2025-08-20 11:37:56.2326|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:37:56.2413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:37:56.2413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 41.9548ms
2025-08-20 11:37:56.2413|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:37:56.2572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 99.0583ms
2025-08-20 11:37:56.3057|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPKUBFHKF] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:37:56.3057|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.3057|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 109.1601ms
2025-08-20 11:37:56.3057|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:37:56.3057|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 153.3131ms
2025-08-20 11:37:56.3777|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPKUBFHKF] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:37:56.3788|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.3788|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 177.2882ms
2025-08-20 11:37:56.3788|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:37:56.3788|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 201.2745ms
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4295|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4420|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:37:56.4572|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:37:56.4572|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:37:56.4572|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:37:56.4572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:37:56.4725|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:37:56.4725|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:37:56.4725|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:37:56.4725|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPKUBFHKF] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4901|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPKUBFHKF] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4901|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPKUBFHKF] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:37:56.4901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:56.4901|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPKUBFHKF] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:37:56.5457|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:37:56.5457|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.5512|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 89.3631ms
2025-08-20 11:37:56.5512|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.5512|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 122.6869ms
2025-08-20 11:37:56.5512|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:37:56.5512|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.5512|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 106.3585ms
2025-08-20 11:37:56.5512|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.5667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 137.0258ms
2025-08-20 11:37:56.6063|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:37:56.6063|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6063|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 136.0739ms
2025-08-20 11:37:56.6063|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6063|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 175.8374ms
2025-08-20 11:37:56.6160|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:37:56.6160|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6160|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 140.1584ms
2025-08-20 11:37:56.6160|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6160|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 186.9799ms
2025-08-20 11:37:56.6311|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:37:56.6311|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 168.3112ms
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 153.1517ms
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 210.3639ms
2025-08-20 11:37:56.6311|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 205.2620ms
2025-08-20 11:37:56.6723|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:37:56.6723|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPKUBFHKF] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:37:56.6723|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:37:56.6723|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:37:56.6723|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6723|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:37:56.6754|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPKUBFHKF] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPKUBFHKF] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:37:56.6754|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPKUBFHKF] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 204.1679ms
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 180.6097ms
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 213.554ms
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 213.3411ms
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 214.3953ms
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 192.229ms
2025-08-20 11:37:56.6754|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 188.7352ms
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 227.4682ms
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 258.7750ms
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 266.1094ms
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 219.3527ms
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 266.4823ms
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:37:56.6923|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 246.3935ms
2025-08-20 11:37:56.7080|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 229.5496ms
2025-08-20 11:37:56.7080|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 276.8146ms
2025-08-20 11:37:56.7080|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 273.4562ms
2025-08-20 11:37:58.5765|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:37:58.5765|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:37:58.5842|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 7.4288ms
2025-08-20 11:37:58.5842|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:37:58.5842|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:37:58.5842|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:37:58.6037|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:37:58.7306|INFO|Microsoft.EntityFrameworkCore.Database.Command||13|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:37:58.7380|INFO|Microsoft.EntityFrameworkCore.Database.Command||13|Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:37:58.7416|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:37:58.7416|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 138.1267ms
2025-08-20 11:37:58.7416|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:37:58.7416|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 157.1121ms
2025-08-20 11:38:02.8028|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:38:02.8028|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:38:02.8028|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:02.8028|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:38:02.8928|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:38:02.9040|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:38:02.9040|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:38:02.9040|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 98.7891ms
2025-08-20 11:38:02.9107|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:02.9107|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 110.0080ms
2025-08-20 11:38:04.8275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:38:04.8275|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:38:04.8275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 3.7260ms
2025-08-20 11:38:04.8334|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:38:04.8334|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:38:04.8334|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:04.8334|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:38:04.9186|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:38:04.9303|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:38:04.9303|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:38:04.9303|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 94.6968ms
2025-08-20 11:38:04.9303|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:04.9303|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 106.5344ms
2025-08-20 11:38:09.0905|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:38:09.0905|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:38:09.0905|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:09.0905|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:38:09.1676|INFO|Microsoft.EntityFrameworkCore.Database.Command||13|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:38:09.1773|INFO|Microsoft.EntityFrameworkCore.Database.Command||13|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:38:09.1795|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:38:09.1795|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 84.5327ms
2025-08-20 11:38:09.1795|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:09.1795|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 93.6818ms
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 3.4882ms
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:21.6284|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:38:21.7439|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:38:21.7512|INFO|Microsoft.EntityFrameworkCore.Database.Command||26|Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:38:21.7562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:38:21.7562|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 115.3734ms
2025-08-20 11:38:21.7562|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:21.7562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 128.4940ms
2025-08-20 11:38:30.6541|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:38:30.6541|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:38:30.6541|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 4.2388ms
2025-08-20 11:38:30.6604|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||29|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:38:30.6604|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||29|CORS policy execution successful.
2025-08-20 11:38:30.6604|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||29|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:30.6604|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||29|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:38:30.7910|INFO|Microsoft.EntityFrameworkCore.Database.Command||29|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:38:30.7910|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:38:30.8007|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:38:30.8007|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 135.6963ms
2025-08-20 11:38:30.8007|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:38:30.8007|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 148.8472ms
2025-08-20 11:39:53.6552|INFO|Microsoft.EntityFrameworkCore.Database.Command||29|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:39:53.6637|INFO|Microsoft.EntityFrameworkCore.Database.Command||29|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:40:38.4906|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:40:38.5230|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:40:38.6228|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:40:38.6228|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:40:38.7224|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:40:38.7224|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:40:38.7224|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:40:39.8003|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:40:39.9080|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:40:40.0424|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:40:40.1252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 84.5308ms
2025-08-20 11:40:40.1803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:40:40.1803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:40:40.1803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 7.6037ms
2025-08-20 11:40:40.2197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 39.3703ms
2025-08-20 11:40:40.4707|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:40:40.5980|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 127.1476ms
2025-08-20 11:40:41.0118|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:40:41.0118|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:40:41.0219|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:40:41.0219|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:40:41.0219|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:40:41.0381|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:40:41.0381|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:40:41.0381|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:40:41.0381|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:40:41.0572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.0572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.0572|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.0572|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPMFTED6L] Call: GetTypesAsync()
2025-08-20 11:40:41.0572|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPMFTED6L] Call: GetCategoriesAsync()
2025-08-20 11:40:41.0892|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:40:41.0892|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:40:41.1071|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 41.7133ms
2025-08-20 11:40:41.1071|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:40:41.1133|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 101.5031ms
2025-08-20 11:40:41.1389|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPMFTED6L] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:40:41.1389|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.1441|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 85.8186ms
2025-08-20 11:40:41.1441|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:40:41.1441|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 111.0436ms
2025-08-20 11:40:41.1875|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPMFTED6L] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:40:41.1875|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.1875|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 131.873ms
2025-08-20 11:40:41.1922|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:40:41.1922|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 175.8193ms
2025-08-20 11:40:41.5233|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:40:41.5252|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5346|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5505|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPMFTED6L] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:40:41.5505|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPMFTED6L] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPMFTED6L] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:40:41.5505|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:40:41.5673|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:40:41.5673|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:40:41.5673|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:40:41.5881|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5881|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.5881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5881|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:40:41.5881|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:40:41.5881|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPMFTED6L] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:40:41.6760|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPMFTED6L] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:40:41.6760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.6760|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 140.1258ms
2025-08-20 11:40:41.6760|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:40:41.6760|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 161.5313ms
2025-08-20 11:40:41.6956|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:40:41.6956|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.6956|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 133.3312ms
2025-08-20 11:40:41.6956|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.6956|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 168.6528ms
2025-08-20 11:40:41.7125|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPMFTED6L] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:40:41.7125|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 156.7714ms
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 141.2125ms
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 187.0977ms
2025-08-20 11:40:41.7125|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 183.8536ms
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPMFTED6L] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 178.4607ms
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 157.9966ms
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 203.122ms
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 182.6416ms
2025-08-20 11:40:41.7421|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 185.7495ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 182.8627ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 182.9254ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 193.3579ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 229.5805ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 198.5509ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 234.8896ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 232.2174ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 232.8121ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 235.0094ms
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.7538|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 233.3687ms
2025-08-20 11:40:41.7763|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 245.3260ms
2025-08-20 11:40:41.8075|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:40:41.8075|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPMFTED6L] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 217.6798ms
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 235.7529ms
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 249.2285ms
2025-08-20 11:40:41.8075|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 280.0873ms
2025-08-20 11:42:38.7522|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (11ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:42:38.7612|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:42:46.3301|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:42:46.3565|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:42:46.4645|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:42:46.4645|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:42:46.5796|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:42:46.5813|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:42:46.5813|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:42:46.7009|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:42:46.8269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 131.7883ms
2025-08-20 11:42:47.2056|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:42:47.2056|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:42:47.2139|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 8.2183ms
2025-08-20 11:42:47.2308|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.1593ms
2025-08-20 11:42:47.4893|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:42:47.5840|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 94.6089ms
2025-08-20 11:42:47.6595|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:42:47.7912|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (15ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:42:48.9060|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:42:48.9157|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:42:48.9347|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:42:48.9544|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:48.9844|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:42:48.9943|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:42:49.0047|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 42.9983ms
2025-08-20 11:42:49.0047|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:42:49.0047|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 105.0535ms
2025-08-20 11:42:49.0823|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:42:49.0886|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:42:49.0886|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:42:49.0996|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.0996|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:42:49.0996|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:42:49.0996|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPNLLIDEV] Call: GetTypesAsync()
2025-08-20 11:42:49.0996|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:42:49.1206|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.1206|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPNLLIDEV] Call: GetCategoriesAsync()
2025-08-20 11:42:49.1882|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPNLLIDEV] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:42:49.1882|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.1928|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 90.9306ms
2025-08-20 11:42:49.1928|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:42:49.1928|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 113.0061ms
2025-08-20 11:42:49.2546|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPNLLIDEV] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:42:49.2546|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.2546|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 137.8899ms
2025-08-20 11:42:49.2546|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:42:49.2546|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 163.7149ms
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:42:49.5277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:42:49.5405|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5496|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPNLLIDEV] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:42:49.5496|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPNLLIDEV] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5496|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPNLLIDEV] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:42:49.5654|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5654|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:42:49.5496|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:42:49.5654|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:42:49.5654|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:42:49.5654|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5851|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:42:49.5851|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:42:49.5851|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:42:49.5851|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:42:49.5851|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:42:49.5851|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:42:49.5967|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPNLLIDEV] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:42:49.6183|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPNLLIDEV] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:42:49.6183|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.6183|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPNLLIDEV] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:42:49.6183|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 84.0619ms
2025-08-20 11:42:49.6285|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.6285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:42:49.6285|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 88.6645ms
2025-08-20 11:42:49.6285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 103.2216ms
2025-08-20 11:42:49.6285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:42:49.6285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 106.3655ms
2025-08-20 11:42:49.6736|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPNLLIDEV] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:42:49.6736|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.6758|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 131.48ms
2025-08-20 11:42:49.6758|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:42:49.6758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 150.8240ms
2025-08-20 11:42:49.6758|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:42:49.6758|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.6758|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 116.2563ms
2025-08-20 11:42:49.6912|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.6912|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 143.5813ms
2025-08-20 11:42:49.6912|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:42:49.6912|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.6912|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 138.9049ms
2025-08-20 11:42:49.6912|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.6912|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 161.1997ms
2025-08-20 11:42:49.7088|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:42:49.7088|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7088|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 136.6728ms
2025-08-20 11:42:49.7088|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7088|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 164.6038ms
2025-08-20 11:42:49.7088|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 129.8957ms
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 164.7421ms
2025-08-20 11:42:49.7216|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7216|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:42:49.7216|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 138.3989ms
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7216|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:42:49.7216|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:42:49.7216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 174.0078ms
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 182.2677ms
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 172.1599ms
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 148.7287ms
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 148.4695ms
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 198.9633ms
2025-08-20 11:42:49.7376|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 203.2605ms
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7376|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 190.3141ms
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 191.5169ms
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 161.9298ms
2025-08-20 11:42:49.7537|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPNLLIDEV] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 199.4934ms
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 169.0492ms
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:42:49.7537|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 204.8654ms
2025-08-20 11:43:12.5169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:43:12.5198|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:43:12.5198|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 5.3567ms
2025-08-20 11:43:12.5198|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:43:12.5198|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:43:12.5198|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:43:12.5198|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:43:12.6814|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:43:12.6814|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||30|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 160.6199ms
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 172.4347ms
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||31|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||31|CORS policy execution successful.
2025-08-20 11:43:12.6935|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||31|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:43:12.7058|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||31|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:43:12.7058|INFO|Microsoft.EntityFrameworkCore.Database.Command||31|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:43:12.7058|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||31|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:43:12.7058|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||31|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 4.7734ms
2025-08-20 11:43:12.7058|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||31|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:43:12.7058|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||31|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 11.6056ms
2025-08-20 11:43:14.1320|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:43:14.1320|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||30|CORS policy execution successful.
2025-08-20 11:43:14.1320|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:43:14.1320|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:43:14.2112|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:43:14.2112|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:43:14.2112|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||30|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:43:14.2112|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 78.6214ms
2025-08-20 11:43:14.2112|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:43:14.2227|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 90.6190ms
2025-08-20 11:43:14.2227|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:43:14.2227|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:43:14.2227|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:43:14.2227|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:43:14.2227|INFO|Microsoft.EntityFrameworkCore.Database.Command||23|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:43:14.2386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:43:14.2386|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 6.0396ms
2025-08-20 11:43:14.2386|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:43:14.2386|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 15.1078ms
2025-08-20 11:44:00.5857|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:44:00.6178|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:44:00.7759|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:44:00.7759|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:44:00.9012|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:44:00.9161|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:44:00.9161|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:44:00.9161|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:44:01.0075|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 109.5978ms
2025-08-20 11:44:01.5576|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:44:01.5681|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 10.4231ms
2025-08-20 11:44:01.6513|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:44:01.6834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 32.0227ms
2025-08-20 11:44:01.8476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:44:01.9502|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:44:01.9614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 113.7190ms
2025-08-20 11:44:02.0644|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (15ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:44:03.6061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:44:03.6161|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:44:03.6161|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:44:03.6161|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:44:03.6326|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:44:03.6326|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:44:03.6476|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:03.6476|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:03.6476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:44:03.6476|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:44:03.6476|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPOBOVAQL] Call: GetCategoriesAsync()
2025-08-20 11:44:03.6476|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:44:03.6606|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:03.6606|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPOBOVAQL] Call: GetTypesAsync()
2025-08-20 11:44:03.6606|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:44:03.6869|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:44:03.6985|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 43.5987ms
2025-08-20 11:44:03.6985|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:44:03.6985|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 99.3112ms
2025-08-20 11:44:03.7270|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPOBOVAQL] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:44:03.7288|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:03.7288|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 81.4569ms
2025-08-20 11:44:03.7288|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:44:03.7288|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 116.7357ms
2025-08-20 11:44:03.8101|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPOBOVAQL] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:44:03.8101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:03.8101|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 151.8328ms
2025-08-20 11:44:03.8101|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:44:03.8164|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 168.0987ms
2025-08-20 11:44:04.0965|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:44:04.0965|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||21|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.0976|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||26|CORS policy execution successful.
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||21|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.1124|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||21|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||21|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:44:04.1280|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:44:04.1280|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:44:04.1442|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPOBOVAQL] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:44:04.1442|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:44:04.1595|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1595|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1595|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:04.1595|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPOBOVAQL] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:44:04.1595|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPOBOVAQL] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:44:04.1595|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPOBOVAQL] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:44:04.2027|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:44:04.2027|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 76.1818ms
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 108.8927ms
2025-08-20 11:44:04.2064|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 94.2694ms
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2064|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 121.3632ms
2025-08-20 11:44:04.2459|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:44:04.2470|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2470|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:44:04.2470|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:44:04.2470|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 116.5291ms
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 133.2842ms
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 118.6658ms
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 155.3723ms
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 162.4252ms
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 157.6104ms
2025-08-20 11:44:04.2526|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 130.3029ms
2025-08-20 11:44:04.2526|INFO|Weather.api.Controllers.CocktailsController||21|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:44:04.2526|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||21|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 166.7738ms
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||26|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 147.5157ms
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||26|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 175.2052ms
2025-08-20 11:44:04.2683|INFO|Weather.api.Controllers.CocktailsController||21|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:44:04.2683|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPOBOVAQL] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:44:04.2683|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:44:04.2683|INFO|Weather.api.Controllers.CocktailsController||26|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||21|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||26|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||21|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 141.7724ms
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 118.8338ms
2025-08-20 11:44:04.2683|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 144.1724ms
2025-08-20 11:44:04.2845|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPOBOVAQL] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 152.1733ms
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||21|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 184.0021ms
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 146.1995ms
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 186.6301ms
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 147.4466ms
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 191.8039ms
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:44:04.2845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 191.2930ms
2025-08-20 11:44:04.3042|INFO|Weather.api.Controllers.CocktailsController||21|[0HNEVPOBOVAQL] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:44:04.3042|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||21|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.3042|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 143.5995ms
2025-08-20 11:44:04.3042|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:44:04.3042|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 165.7914ms
2025-08-20 11:44:04.3349|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPOBOVAQL] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:44:04.3349|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:44:04.3349|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||21|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 176.7696ms
2025-08-20 11:44:04.3349|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||21|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:44:04.3349|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 210.2321ms
2025-08-20 11:44:12.9956|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:44:12.9956|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:44:12.9956|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 5.8477ms
2025-08-20 11:44:13.0037|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:44:13.0037|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||21|CORS policy execution successful.
2025-08-20 11:44:13.0037|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||21|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:44:13.0037|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||21|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:13.1485|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:44:13.1485|INFO|Microsoft.EntityFrameworkCore.Database.Command||21|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||21|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||21|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 149.1096ms
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||21|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 160.2811ms
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:44:13.1613|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:44:13.1763|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:44:13.1763|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:44:13.1763|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 4.9577ms
2025-08-20 11:44:13.1763|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:44:13.1763|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 11.4689ms
2025-08-20 11:46:00.9039|INFO|Microsoft.EntityFrameworkCore.Database.Command||32|Executed DbCommand (23ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:46:00.9139|INFO|Microsoft.EntityFrameworkCore.Database.Command||32|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:48:00.7810|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:48:00.7897|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:26.5598|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-20 11:49:26.5939|INFO|RandomCocktailHostedService||1|RandomCocktailHostedService iniciado (cada 2 min).
2025-08-20 11:49:26.7507|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-08-20 11:49:26.7507|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-08-20 11:49:26.8817|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-08-20 11:49:26.8817|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-08-20 11:49:26.8817|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\BlazorCocktails\API
2025-08-20 11:49:26.9169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-08-20 11:49:27.0460|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 134.3790ms
2025-08-20 11:49:27.9093|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (52ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:28.0319|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (15ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:28.2143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-08-20 11:49:28.2227|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 13760 application/javascript;+charset=utf-8 8.2807ms
2025-08-20 11:49:28.2959|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-08-20 11:49:28.3298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 33.8383ms
2025-08-20 11:49:28.8794|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-08-20 11:49:29.0030|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 123.5744ms
2025-08-20 11:49:30.0951|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:30.1001|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:49:30.1001|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:49:30.1001|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:49:30.1213|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:49:30.1213|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:49:30.1213|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:30.1213|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:30.1308|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:49:30.1432|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.1432|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.1432|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.1432|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPRCU4DTB] Call: GetTypesAsync()
2025-08-20 11:49:30.1432|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPRCU4DTB] Call: GetCategoriesAsync()
2025-08-20 11:49:30.1819|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:30.1930|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:30.1930|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 51.682ms
2025-08-20 11:49:30.2056|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:30.2056|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 117.2494ms
2025-08-20 11:49:30.2221|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPRCU4DTB] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:49:30.2221|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.2221|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 80.4296ms
2025-08-20 11:49:30.2221|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:49:30.2221|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 107.5523ms
2025-08-20 11:49:30.3003|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPRCU4DTB] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:49:30.3003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.3003|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 158.9192ms
2025-08-20 11:49:30.3003|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:49:30.3003|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 205.9546ms
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4411|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4551|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPRCU4DTB] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:49:30.4551|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:49:30.4551|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPRCU4DTB] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4551|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:49:30.4707|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4707|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4865|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.4865|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:49:30.5023|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:49:30.5023|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.5023|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:30.5023|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:49:30.5023|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:49:30.5335|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.5335|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPRCU4DTB] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 79.3199ms
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 99.9375ms
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 86.4504ms
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:30.5335|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 103.6135ms
2025-08-20 11:49:30.5926|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:49:30.5926|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.5977|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 111.4636ms
2025-08-20 11:49:30.5977|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.5977|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:49:30.5977|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 144.1425ms
2025-08-20 11:49:30.5977|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||15|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.5977|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 114.0806ms
2025-08-20 11:49:30.5977|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 152.3877ms
2025-08-20 11:49:30.6113|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPRCU4DTB] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 159.9547ms
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 178.8333ms
2025-08-20 11:49:30.6113|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6113|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 138.0078ms
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 170.2398ms
2025-08-20 11:49:30.6269|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:49:30.6269|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 130.5449ms
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 155.1325ms
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 173.0473ms
2025-08-20 11:49:30.6269|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 187.3599ms
2025-08-20 11:49:30.6269|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 130.1578ms
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 165.1959ms
2025-08-20 11:49:30.6433|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6433|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 150.9006ms
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6433|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 156.2133ms
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 190.7250ms
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 162.234ms
2025-08-20 11:49:30.6433|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 196.9521ms
2025-08-20 11:49:30.6584|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6584|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 201.5924ms
2025-08-20 11:49:30.6584|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:49:30.6584|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6584|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 161.1211ms
2025-08-20 11:49:30.6584|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6743|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:49:30.6743|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 195.6396ms
2025-08-20 11:49:30.6743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||14|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:30.6743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 176.4372ms
2025-08-20 11:49:30.6743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:30.6743|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 217.4230ms
2025-08-20 11:49:37.8587|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:37.8587|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:49:37.8628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:37.8628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:37.8628|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - - -
2025-08-20 11:49:37.8628|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:49:37.8628|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:49:37.8628|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetCategories", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CategoryDTO]]] GetCategoriesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:37.8628|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] Call: GetCategoriesAsync()
2025-08-20 11:49:37.8914|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - - -
2025-08-20 11:49:37.8975|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:49:37.8975|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:49:37.8975|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetAlcoholTypes", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.AlcoholTypeDTO]]] GetAlcoholTypesAsync() on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:37.8975|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] Call: GetTypesAsync()
2025-08-20 11:49:37.9196|INFO|Microsoft.EntityFrameworkCore.Database.Command||13|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:37.9196|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:37.9196|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 57.8666ms
2025-08-20 11:49:37.9239|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:37.9239|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 66.7252ms
2025-08-20 11:49:37.9530|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] FinishCall: GetCategoriesAsync – returned 11 items
2025-08-20 11:49:37.9530|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CategoryDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api) in 78.9215ms
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetCategoriesAsync (Cocktail.api)'
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Categories - 200 - application/json;+charset=utf-8 87.5248ms
2025-08-20 11:49:37.9555|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] FinishCall: GetTypesAsync – returned 3 items
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.AlcoholTypeDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api) in 60.8432ms
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetAlcoholTypesAsync (Cocktail.api)'
2025-08-20 11:49:37.9555|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/AlcoholTypes - 200 - application/json;+charset=utf-8 73.7033ms
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||14|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||13|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||14|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||15|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - - -
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||23|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||7|CORS policy execution successful.
2025-08-20 11:49:38.1285|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Cocktail)
2025-08-20 11:49:38.1285|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||14|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||25|CORS policy execution successful.
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1426|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Cocoa)
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Weather.api.Controllers.CocktailsController||14|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Ordinary Drink)
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - - -
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - - -
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Weather.api.Controllers.CocktailsController||13|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Punch / Party Drink)
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1426|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - - -
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||9|CORS policy execution successful.
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1590|INFO|Weather.api.Controllers.CocktailsController||15|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Shake)
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Route matched with {action = "GetByCategory", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByCategoryAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1590|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Coffee / Tea)
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:49:38.1590|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Shot)
2025-08-20 11:49:38.1590|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Homemade Liqueur)
2025-08-20 11:49:38.1743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Beer)
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Soft Drink)
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPRCU4DTB] Call: GetByCategoryAsync(category=Other / Unknown)
2025-08-20 11:49:38.1743|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:38.1743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1743|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetByType", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.CocktailItemDTO]]] GetByTypeAsync(System.String) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPRCU4DTB] Call: GetByTypeAsync(type=Alcoholic)
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] Call: GetByTypeAsync(type=Non_Alcoholic)
2025-08-20 11:49:38.1743|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] Call: GetByTypeAsync(type=Optional_alcohol)
2025-08-20 11:49:38.2029|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:49:38.2029|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2054|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 64.6051ms
2025-08-20 11:49:38.2054|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2054|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocktail - 200 - application/json;+charset=utf-8 79.8426ms
2025-08-20 11:49:38.2054|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 9 items
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 69.8571ms
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Cocoa - 200 - application/json;+charset=utf-8 94.6068ms
2025-08-20 11:49:38.2253|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 40 items
2025-08-20 11:49:38.2253|INFO|Weather.api.Controllers.CocktailsController||9|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 100 items
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||9|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 77.6724ms
2025-08-20 11:49:38.2253|INFO|Weather.api.Controllers.CocktailsController||4|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 25 items
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 81.3566ms
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Punch%20%2F%20Party%20Drink - 200 - application/json;+charset=utf-8 102.0543ms
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2253|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 12 items
2025-08-20 11:49:38.2253|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 65.6549ms
2025-08-20 11:49:38.2371|INFO|Weather.api.Controllers.CocktailsController||7|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 14 items
2025-08-20 11:49:38.2371|INFO|Weather.api.Controllers.CocktailsController||23|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 18 items
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Ordinary%20Drink - 200 - application/json;+charset=utf-8 107.5730ms
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||7|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||23|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 67.9475ms
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Coffee%20%2F%20Tea - 200 - application/json;+charset=utf-8 108.1511ms
2025-08-20 11:49:38.2371|INFO|Weather.api.Controllers.CocktailsController||25|[0HNEVPRCU4DTB] FinishCall: GetByTypeAsync – returned 100 items
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 67.0264ms
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||23|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 79.4901ms
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||25|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2371|INFO|Weather.api.Controllers.CocktailsController||22|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 50 items
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||23|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 63.8221ms
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Beer - 200 - application/json;+charset=utf-8 113.7536ms
2025-08-20 11:49:38.2371|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Homemade%20Liqueur - 200 - application/json;+charset=utf-8 113.0450ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shake - 200 - application/json;+charset=utf-8 118.9539ms
2025-08-20 11:49:38.2518|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 11 items
2025-08-20 11:49:38.2518|INFO|Weather.api.Controllers.CocktailsController||12|[0HNEVPRCU4DTB] FinishCall: GetByCategoryAsync – returned 34 items
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 81.422ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Alcoholic - 200 - application/json;+charset=utf-8 108.9260ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 83.4448ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api) in 84.0265ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Shot - 200 - application/json;+charset=utf-8 127.6347ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByCategoryAsync (Cocktail.api)'
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Soft%20Drink - 200 - application/json;+charset=utf-8 127.4974ms
2025-08-20 11:49:38.2518|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByCategory?category=Other%20%2F%20Unknown - 200 - application/json;+charset=utf-8 133.5199ms
2025-08-20 11:49:38.2910|INFO|Weather.api.Controllers.CocktailsController||6|[0HNEVPRCU4DTB] FinishCall: GetByTypeAsync – returned 9 items
2025-08-20 11:49:38.2910|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.2910|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 104.9932ms
2025-08-20 11:49:38.2910|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:38.2910|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Optional_alcohol - 200 - application/json;+charset=utf-8 135.0782ms
2025-08-20 11:49:38.3256|INFO|Weather.api.Controllers.CocktailsController||24|[0HNEVPRCU4DTB] FinishCall: GetByTypeAsync – returned 58 items
2025-08-20 11:49:38.3256|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.DTO.CocktailItemDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-20 11:49:38.3256|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api) in 140.5514ms
2025-08-20 11:49:38.3256|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetByTypeAsync (Cocktail.api)'
2025-08-20 11:49:38.3302|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/ByAlcoholType?type=Non_Alcoholic - 200 - application/json;+charset=utf-8 177.5709ms
2025-08-20 11:49:41.5578|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:49:41.5578|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:49:41.5578|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 4.4574ms
2025-08-20 11:49:41.5651|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:49:41.5651|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||24|CORS policy execution successful.
2025-08-20 11:49:41.5651|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:41.5651|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:41.6596|INFO|Microsoft.EntityFrameworkCore.Database.Command||24|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:41.6663|INFO|Microsoft.EntityFrameworkCore.Database.Command||24|Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:41.6663|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||24|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:41.6663|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||24|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 92.9275ms
2025-08-20 11:49:41.6663|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||24|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:41.6762|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||24|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 111.0122ms
2025-08-20 11:49:41.6762|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:41.6762|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:49:41.6762|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:41.6762|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:41.6935|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:41.6935|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:41.6935|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 5.9822ms
2025-08-20 11:49:41.6935|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:41.6935|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 16.8506ms
2025-08-20 11:49:43.1102|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:49:43.1115|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:49:43.1115|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:43.1115|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:43.1937|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:43.1937|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:43.1937|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 88.51ms
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 100.5212ms
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:43.2055|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:43.2247|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:43.2247|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:43.2247|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 5.5605ms
2025-08-20 11:49:43.2247|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:43.2247|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 13.1471ms
2025-08-20 11:49:44.0634|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:49:44.0634|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:44.0669|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:44.0669|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:44.1413|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:44.1525|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:44.1525|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:44.1525|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 84.4027ms
2025-08-20 11:49:44.1525|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:44.1525|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 93.2627ms
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:44.1607|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 5.2158ms
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:44.1607|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 11.3862ms
2025-08-20 11:49:45.0640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:49:45.0654|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:49:45.0654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:45.0654|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:45.1472|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:45.1604|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:45.1604|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:45.1604|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 96.3541ms
2025-08-20 11:49:45.1604|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:45.1604|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 108.6080ms
2025-08-20 11:49:45.1803|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:45.1803|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:45.1803|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:45.1803|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:45.1899|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:45.1899|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:45.1899|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 6.1576ms
2025-08-20 11:49:45.1899|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:45.1899|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 15.0802ms
2025-08-20 11:49:46.1866|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:49:46.1866|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:49:46.1901|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:46.1901|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:46.2596|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:46.2596|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:49:46.2596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:46.2596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 74.4548ms
2025-08-20 11:49:46.2690|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:49:46.2690|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 84.4359ms
2025-08-20 11:49:46.2690|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:49:46.2690|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||4|CORS policy execution successful.
2025-08-20 11:49:46.2690|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:46.2690|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:49:46.2829|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:49:46.2829|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:49:46.2829|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 4.9144ms
2025-08-20 11:49:46.2829|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:49:46.2829|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 10.8029ms
2025-08-20 11:51:17.0006|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:51:17.0021|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:17.0021|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 2.8487ms
2025-08-20 11:51:17.0021|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:17.0021|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:17.0021|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:17.0021|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:17.1741|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:17.1826|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:17.1826|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:17.1826|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 170.8315ms
2025-08-20 11:51:17.1826|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:17.1826|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 178.7678ms
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:17.1934|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 5.0778ms
2025-08-20 11:51:17.1934|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:17.2054|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 11.9678ms
2025-08-20 11:51:20.8337|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:20.8337|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:20.8337|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:20.8337|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:20.9176|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:20.9273|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:20.9273|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:20.9273|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 87.6951ms
2025-08-20 11:51:20.9273|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:20.9273|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 99.0203ms
2025-08-20 11:51:20.9273|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:20.9393|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:51:20.9393|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:20.9393|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:20.9393|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:20.9393|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:20.9393|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 11.0065ms
2025-08-20 11:51:20.9555|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:20.9555|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 19.9451ms
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 3.9841ms
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:24.8799|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:24.9994|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:25.0099|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:25.0099|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:25.0099|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 119.7261ms
2025-08-20 11:51:25.0099|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:25.0099|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 129.3544ms
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:25.0216|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 3.5345ms
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:25.0216|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 9.9099ms
2025-08-20 11:51:25.8390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:25.8390|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:25.8390|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:25.8390|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:25.9164|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:25.9267|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (7ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:25.9267|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:25.9267|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 83.1265ms
2025-08-20 11:51:25.9267|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:25.9267|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 93.0640ms
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:25.9397|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 4.8871ms
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:25.9397|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 11.5998ms
2025-08-20 11:51:26.6752|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:26.6849|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:27.7305|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:27.7305|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||30|CORS policy execution successful.
2025-08-20 11:51:27.7305|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:27.7305|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:27.8092|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:27.8179|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:27.8179|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||30|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:27.8179|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 82.283ms
2025-08-20 11:51:27.8179|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:27.8179|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 93.9105ms
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||6|CORS policy execution successful.
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:27.8298|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 4.2905ms
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:27.8298|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 12.8367ms
2025-08-20 11:51:31.0288|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - - -
2025-08-20 11:51:31.0288|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:51:31.0325|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 OPTIONS https://localhost:7131/api/Cocktails/Random/RefreshNow - 204 - - 3.5799ms
2025-08-20 11:51:31.0325|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:31.0325|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||30|CORS policy execution successful.
2025-08-20 11:51:31.0325|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:31.0325|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:31.1088|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:31.1134|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (2ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:31.1134|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||30|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:31.1134|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||30|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 75.3175ms
2025-08-20 11:51:31.1134|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||30|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:31.1134|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 84.7410ms
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:31.1277|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 5.6905ms
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:31.1277|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 12.9255ms
2025-08-20 11:51:32.7066|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - application/json;+charset=utf-8 0
2025-08-20 11:51:32.7066|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||12|CORS policy execution successful.
2025-08-20 11:51:32.7066|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:32.7066|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "RefreshRandomNow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] RefreshRandomNowAsync(Infraestructura.Services.CocktailClientService, Infraestructura.Repositories.RandomCocktailRepository, System.Threading.CancellationToken) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:32.7922|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:32.8006|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||12|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Executed action Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api) in 90.2436ms
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executed endpoint 'Weather.api.Controllers.CocktailsController.RefreshRandomNowAsync (Cocktail.api)'
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 POST https://localhost:7131/api/Cocktails/Random/RefreshNow - 200 - application/json;+charset=utf-8 100.0169ms
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - - -
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Cors.Infrastructure.CorsService||22|CORS policy execution successful.
2025-08-20 11:51:32.8006|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:32.8142|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "GetRandomRow", controller = "Cocktails"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.RandomCocktailDTO]] GetRandomRowAsync(Infraestructura.Repositories.RandomCocktailRepository) on controller Weather.api.Controllers.CocktailsController (Cocktail.api).
2025-08-20 11:51:32.8142|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:51:32.8142|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||22|Executing OkObjectResult, writing value of type 'Core.DTO.RandomCocktailDTO'.
2025-08-20 11:51:32.8142|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Executed action Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api) in 5.1422ms
2025-08-20 11:51:32.8142|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executed endpoint 'Weather.api.Controllers.CocktailsController.GetRandomRowAsync (Cocktail.api)'
2025-08-20 11:51:32.8142|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/api/Cocktails/Random/Row - 200 - application/json;+charset=utf-8 10.3908ms
2025-08-20 11:53:26.7919|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:53:26.7919|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-08-20 11:55:26.8257|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[DrinkId], [r].[Name], [r].[ThumbUrl]
FROM [RandomCocktails] AS [r]
ORDER BY [r].[Id]
2025-08-20 11:55:26.8360|INFO|Microsoft.EntityFrameworkCore.Database.Command||33|Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RandomCocktails] SET [DrinkId] = @p0, [Name] = @p1, [ThumbUrl] = @p2
OUTPUT 1
WHERE [Id] = @p3;
