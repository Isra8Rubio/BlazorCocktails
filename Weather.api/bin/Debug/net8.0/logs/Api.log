2025-07-08 09:29:13.3626|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 09:29:13.4614|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 09:29:13.4614|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 09:29:13.5205|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 09:29:13.5205|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 09:29:13.5205|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 09:29:13.9015|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 09:29:14.0181|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 123.8634ms
2025-07-08 09:29:14.0549|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 09:29:14.0549|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 09:29:14.0666|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 11.6060ms
2025-07-08 09:29:14.0853|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 30.3335ms
2025-07-08 09:29:14.3592|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 09:29:14.3857|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 26.4639ms
2025-07-08 09:44:30.2099|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 09:44:30.3009|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 09:44:30.3009|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 09:44:30.3608|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 09:44:30.3608|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 09:44:30.3608|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 09:44:30.5970|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 09:44:30.6981|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 102.7117ms
2025-07-08 09:44:30.7275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 09:44:30.7275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 09:44:30.7353|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 7.7230ms
2025-07-08 09:44:30.7509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 23.4010ms
2025-07-08 09:44:30.9595|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 09:44:30.9789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.3537ms
2025-07-08 09:45:28.5915|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-08 09:45:28.6188|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||12|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 09:45:28.6445|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||12|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-08 09:45:28.7724|INFO|Infraestructura.Controllers.UsersController||12|[0HNDTUD2VHV8J] Call: Login(email=prueba@gmail.com)
2025-07-08 09:45:29.4968|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (46ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-08 09:45:29.6605|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 09:45:29.6940|INFO|Microsoft.EntityFrameworkCore.Database.Command||12|Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 09:45:29.7023|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||12|AuthenticationScheme: Identity.Application signed in.
2025-07-08 09:45:29.7183|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|12|Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-08 09:45:29.7183|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|12|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 09:45:29.7183|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 09:45:29.7469|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|9|[0HNDTUD2VHV8J] FinishCall: Login – token issued
2025-07-08 09:45:29.7585|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|9|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-08 09:45:29.7788|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|9|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 1123.3492ms
2025-07-08 09:45:29.7802|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|9|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 09:45:29.7802|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|9|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 1199.1340ms
2025-07-08 09:45:52.6146|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 09:45:52.7125|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-08 09:45:52.7180|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 09:45:52.7180|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "GetHome", controller = "RemoteWeather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.HomeResponseDTO]] GetHomeAsync() on controller Infraestructura.Controllers.RemoteWeatherController (Weather.api).
2025-07-08 09:45:52.7180|INFO|Infraestructura.Controllers.RemoteWeatherController||9|[0HNDTUD2VHV8J] Call: GetHomeAsync()
2025-07-08 09:45:54.1191|INFO|Infraestructura.Controllers.RemoteWeatherController||17|[0HNDTUD2VHV8J] FinishCall: GetHomeAsync – details retrieved
2025-07-08 09:45:54.1191|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||17|Executing OkObjectResult, writing value of type 'Core.DTO.HomeResponseDTO'.
2025-07-08 09:45:54.1275|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||17|Executed action Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api) in 1403.3587ms
2025-07-08 09:45:54.1275|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||17|Executed endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 09:45:54.1275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 200 - application/json;+charset=utf-8 1515.0387ms
2025-07-08 09:49:17.1069|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 09:49:17.1156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 8.6471ms
2025-07-08 09:49:17.1391|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 09:49:17.1419|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 2.7761ms
2025-07-08 09:49:17.1419|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 09:49:17.1549|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||29|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 12.7414ms
2025-07-08 09:49:17.6815|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 09:49:17.6907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 9.1728ms
2025-07-08 10:02:23.6196|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 10:02:23.7288|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 10:02:23.7288|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 10:02:23.7938|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 10:02:23.7938|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 10:02:23.7966|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 10:02:24.0657|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 10:02:24.1679|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 103.7287ms
2025-07-08 10:02:24.2130|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 10:02:24.2192|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 10:02:24.2192|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.4501ms
2025-07-08 10:02:24.2453|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.0318ms
2025-07-08 10:02:24.7156|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 10:02:24.7439|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 28.2864ms
2025-07-08 11:02:10.3781|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 11:02:10.4985|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 11:02:10.5005|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 11:02:10.5726|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 11:02:10.5726|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 11:02:10.5726|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 11:02:10.8896|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 11:02:11.0040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 116.7686ms
2025-07-08 11:02:11.0300|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 11:02:11.0300|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 7.9839ms
2025-07-08 11:02:11.0300|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 11:02:11.0653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.5291ms
2025-07-08 11:02:11.3412|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 11:02:11.3597|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 18.4366ms
2025-07-08 11:03:33.5717|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 47
2025-07-08 11:03:33.6142|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 11:03:33.6602|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-08 11:03:33.9437|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||19|Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-08 11:03:33.9956|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||19|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 322.7601ms
2025-07-08 11:03:33.9956|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||19|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 11:03:34.0025|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 400 - application/problem+json;+charset=utf-8 430.8116ms
2025-07-08 11:04:17.0730|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias - - -
2025-07-08 11:04:17.0870|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||11|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-08 11:04:17.0870|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||11|AuthenticationScheme: Bearer was challenged.
2025-07-08 11:04:17.0984|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias - 401 0 - 25.2504ms
2025-07-08 11:05:14.9413|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 11:05:14.9536|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||17|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-08 11:05:14.9536|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||17|AuthenticationScheme: Bearer was challenged.
2025-07-08 11:05:14.9536|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 401 0 - 17.6916ms
2025-07-08 11:11:18.8953|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 11:11:19.0545|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 11:11:19.0545|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 11:11:19.1505|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 11:11:19.1505|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 11:11:19.1505|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 11:11:19.3369|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 11:11:19.4584|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 121.8165ms
2025-07-08 11:11:19.4771|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 11:11:19.4771|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 11:11:19.4886|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 11.3896ms
2025-07-08 11:11:19.5062|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 29.0501ms
2025-07-08 11:11:19.6780|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 11:11:19.6997|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 21.5848ms
2025-07-08 11:11:45.1592|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 11:11:45.2676|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 11:11:45.2676|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 11:11:45.4256|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 11:11:45.4256|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 11:11:45.4256|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 11:11:45.8726|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 11:11:45.9789|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 108.4418ms
2025-07-08 11:11:45.9997|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 11:11:45.9997|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 11:11:45.9997|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.7427ms
2025-07-08 11:11:46.0279|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 23.0085ms
2025-07-08 11:11:46.1346|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 11:11:46.1655|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 30.8135ms
2025-07-08 11:52:02.9038|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 11:52:02.9273|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 11:52:05.8566|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (41ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 11:52:05.9561|ERROR|Microsoft.EntityFrameworkCore.Database.Command||7|Failed executing DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 11:52:05.9830|ERROR|Microsoft.EntityFrameworkCore.Update||7|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'NameTown', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:32c2d651-a5cd-449a-a210-cacfdc189890
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'NameTown', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:32c2d651-a5cd-449a-a210-cacfdc189890
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-08 11:52:05.9830|ERROR|Infraestructura.Services.WeatherUpdateHostedService||7|WeatherUpdateHostedService: error al actualizar clima.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'NameTown', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:32c2d651-a5cd-449a-a210-cacfdc189890
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.WeatherCompleteRepository.AddOrUpdateAsync(WeatherComplete entity) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Repositories\WeatherCompleteRepository.cs:line 43
   at Infraestructura.Repositories.WeatherCompleteRepository.UpdateFromHomeAsync(HomeResponseDTO homeDto) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Repositories\WeatherCompleteRepository.cs:line 71
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 41
2025-07-08 11:52:06.0973|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 11:52:06.0973|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 11:52:06.1460|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 11:52:06.1460|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 11:52:06.1460|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 11:52:06.6702|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 11:52:06.6703|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 11:52:06.6703|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 18.2045ms
2025-07-08 11:52:06.7577|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 89.8262ms
2025-07-08 11:52:06.8984|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 11:52:06.9447|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.2839ms
2025-07-08 11:52:28.2997|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 11:52:28.3350|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||4|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-08 11:52:28.3350|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||4|AuthenticationScheme: Bearer was challenged.
2025-07-08 11:52:28.3350|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 401 0 - 39.8197ms
2025-07-08 11:54:02.3528|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-08 11:54:02.3643|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||3|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 11:54:02.3923|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||3|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-08 11:54:02.4403|INFO|Infraestructura.Controllers.UsersController||3|[0HNDU0KCH4VK3] Call: Login(email=prueba@gmail.com)
2025-07-08 11:54:02.4821|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (18ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-08 11:54:02.6009|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 11:54:02.6317|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 11:54:02.6454|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||3|AuthenticationScheme: Identity.Application signed in.
2025-07-08 11:54:02.6581|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|4|Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-08 11:54:02.6581|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|4|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 11:54:02.6581|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|4|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 11:54:02.6789|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|4|[0HNDU0KCH4VK3] FinishCall: Login – token issued
2025-07-08 11:54:02.6789|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|4|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-08 11:54:02.6946|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|4|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 295.5758ms
2025-07-08 11:54:02.6946|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|4|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 11:54:02.6946|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|4|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 346.3698ms
2025-07-08 11:54:18.4731|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 11:54:18.5772|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-08 11:54:18.5772|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executing endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 11:54:18.5772|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Route matched with {action = "GetHome", controller = "RemoteWeather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.HomeResponseDTO]] GetHomeAsync() on controller Infraestructura.Controllers.RemoteWeatherController (Weather.api).
2025-07-08 11:54:18.5772|INFO|Infraestructura.Controllers.RemoteWeatherController||4|[0HNDU0KCH4VK3] Call: GetHomeAsync()
2025-07-08 11:54:20.3093|INFO|Infraestructura.Controllers.RemoteWeatherController||4|[0HNDU0KCH4VK3] FinishCall: GetHomeAsync – details retrieved
2025-07-08 11:54:20.3093|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||4|Executing OkObjectResult, writing value of type 'Core.DTO.HomeResponseDTO'.
2025-07-08 11:54:20.3148|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||4|Executed action Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api) in 1729.9372ms
2025-07-08 11:54:20.3148|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||4|Executed endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 11:54:20.3148|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 200 - application/json;+charset=utf-8 1844.2252ms
2025-07-08 12:08:06.6252|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:08:06.6401|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:08:09.4805|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (37ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 12:08:09.5818|ERROR|Microsoft.EntityFrameworkCore.Database.Command||6|Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 12:08:09.5987|ERROR|Microsoft.EntityFrameworkCore.Update||6|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'StateSkyDescription', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9923aa2e-f127-43b1-89f1-775bd38a17fb
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'StateSkyDescription', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9923aa2e-f127-43b1-89f1-775bd38a17fb
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-08 12:08:09.5987|ERROR|Infraestructura.Services.WeatherUpdateHostedService||6|WeatherUpdateHostedService: error al actualizar clima.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'StateSkyDescription', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9923aa2e-f127-43b1-89f1-775bd38a17fb
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.WeatherCompleteRepository.AddOrUpdateAsync(WeatherComplete entity) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Repositories\WeatherCompleteRepository.cs:line 43
   at Infraestructura.Services.WeatherCompleteService.UpdateFromHomeAsync(HomeResponseDTO homeDto) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherCompleteService.cs:line 96
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 41
2025-07-08 12:08:09.6752|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 12:08:09.6752|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 12:08:09.7136|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 12:08:09.7136|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 12:08:09.7136|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:08:09.9797|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 12:08:10.0456|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 68.2654ms
2025-07-08 12:08:10.0763|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:08:10.0763|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:08:10.0846|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.2113ms
2025-07-08 12:08:10.1023|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.9522ms
2025-07-08 12:08:10.3362|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:08:10.3567|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 20.3619ms
2025-07-08 12:09:05.1605|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:09:05.1743|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:09:07.8776|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (50ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 12:09:08.0073|ERROR|Microsoft.EntityFrameworkCore.Database.Command||9|Failed executing DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 12:09:08.0263|ERROR|Microsoft.EntityFrameworkCore.Update||9|An exception occurred in the database while saving changes for context type 'Infraestructura.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'StateSkyId', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e1f3ad4d-8407-47fb-8e0a-bc1d65179d86
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'StateSkyId', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e1f3ad4d-8407-47fb-8e0a-bc1d65179d86
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-07-08 12:09:08.0340|ERROR|Infraestructura.Services.WeatherUpdateHostedService||9|WeatherUpdateHostedService: error al actualizar clima.|Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): No se puede insertar el valor NULL en la columna 'StateSkyId', tabla 'Weather.dbo.WeatherComplete'. La columna no admite valores NULL. Error de INSERT.
Se terminó la instrucción.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:e1f3ad4d-8407-47fb-8e0a-bc1d65179d86
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infraestructura.Repositories.WeatherCompleteRepository.AddOrUpdateAsync(WeatherComplete entity) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Repositories\WeatherCompleteRepository.cs:line 43
   at Infraestructura.Services.WeatherCompleteService.UpdateFromHomeAsync(HomeResponseDTO homeDto) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherCompleteService.cs:line 96
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 41
2025-07-08 12:09:08.1101|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 12:09:08.1101|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 12:09:08.1551|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 12:09:08.1574|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 12:09:08.1574|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:09:08.5143|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 12:09:08.5863|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 73.4079ms
2025-07-08 12:09:08.6206|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:09:08.6206|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:09:08.6306|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.9046ms
2025-07-08 12:09:08.6487|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 27.9936ms
2025-07-08 12:09:08.7947|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:09:08.8145|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.7139ms
2025-07-08 12:13:55.3014|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (9ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2025-07-08 12:13:55.3138|INFO|Microsoft.EntityFrameworkCore.Migrations||1|Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-08 12:13:55.3621|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-08 12:13:55.4182|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-08 12:13:55.4273|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2025-07-08 12:13:55.4273|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-08 12:13:55.4392|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-08 12:13:55.4392|INFO|Microsoft.EntityFrameworkCore.Migrations||1|Applying migration '20250708101333_CambioNulos'.
2025-07-08 12:13:55.5701|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (102ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'StateSkyId');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [StateSkyId] nvarchar(max) NULL;
2025-07-08 12:13:55.6040|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (32ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'StateSkyDescription');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [StateSkyDescription] nvarchar(max) NULL;
2025-07-08 12:13:55.6410|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (36ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'NameTown');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [NameTown] nvarchar(max) NULL;
2025-07-08 12:13:55.6752|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'NameProvince');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [NameProvince] nvarchar(max) NULL;
2025-07-08 12:13:55.7601|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (35ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'IdProvince');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [IdProvince] nvarchar(max) NULL;
2025-07-08 12:13:55.7601|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (2ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250708101333_CambioNulos', N'9.0.6');
2025-07-08 12:13:55.7715|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (4ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-08 12:14:16.6964|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:14:16.7296|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:14:37.9745|ERROR|Infraestructura.Services.WeatherUpdateHostedService||13|WeatherUpdateHostedService: error al actualizar clima.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 34
2025-07-08 12:14:38.0651|INFO|Microsoft.Hosting.Lifetime||13|Now listening on: https://localhost:7131
2025-07-08 12:14:38.0651|INFO|Microsoft.Hosting.Lifetime||13|Now listening on: http://localhost:5216
2025-07-08 12:14:38.1971|INFO|Microsoft.Hosting.Lifetime||13|Application started. Press Ctrl+C to shut down.
2025-07-08 12:14:38.1971|INFO|Microsoft.Hosting.Lifetime||13|Hosting environment: Development
2025-07-08 12:14:38.1971|INFO|Microsoft.Hosting.Lifetime||13|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:14:38.4568|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 12:14:38.5406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 88.9240ms
2025-07-08 12:14:38.5640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:14:38.5640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:14:38.5640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 13.1385ms
2025-07-08 12:14:38.5937|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 29.6704ms
2025-07-08 12:14:38.7966|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:14:38.8184|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 21.8047ms
2025-07-08 12:15:45.4614|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:15:45.4885|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:16:06.7362|ERROR|Infraestructura.Services.WeatherUpdateHostedService||9|WeatherUpdateHostedService: error al actualizar clima.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 34
2025-07-08 12:16:06.8027|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 12:16:06.8027|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 12:16:06.8732|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 12:16:06.8748|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 12:16:06.8748|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:18:50.3279|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:18:50.3516|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:19:08.3368|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (46ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 12:19:08.4628|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 12:19:08.4728|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 12:19:08.5386|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 12:19:08.5386|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 12:19:08.5794|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 12:19:08.5794|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 12:19:08.5794|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:19:08.9463|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:19:08.9463|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:19:08.9625|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 18.2671ms
2025-07-08 12:19:08.9830|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 39.5816ms
2025-07-08 12:19:09.1976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:19:09.2438|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 46.1890ms
2025-07-08 12:41:46.9449|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:41:46.9686|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:41:50.9320|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (38ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 12:41:51.0380|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 12:41:51.0463|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 12:41:51.1190|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 12:41:51.1190|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 12:41:51.1558|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 12:41:51.1558|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 12:41:51.1558|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:41:51.6650|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 12:41:51.7344|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 71.6704ms
2025-07-08 12:41:51.7739|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:41:51.7739|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:41:51.7828|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.8220ms
2025-07-08 12:41:51.8021|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 28.0846ms
2025-07-08 12:41:52.0388|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:41:52.0578|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.0040ms
2025-07-08 12:43:34.8329|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:43:34.8456|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:43:37.3389|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (46ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 12:43:37.4516|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 12:43:37.4581|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 12:43:37.5219|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 12:43:37.5219|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 12:43:37.5615|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 12:43:37.5615|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 12:43:37.5615|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:43:37.9564|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 12:43:38.0297|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 74.5167ms
2025-07-08 12:43:38.0569|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:43:38.0569|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:43:38.0675|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.4572ms
2025-07-08 12:43:38.0827|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.7800ms
2025-07-08 12:43:38.2580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:43:38.2742|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 16.1931ms
2025-07-08 12:46:12.7037|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 12:46:12.7172|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 12:46:15.3974|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (25ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 12:46:15.4843|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 12:46:15.4843|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 12:46:15.5521|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 12:46:15.5521|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 12:46:15.5933|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 12:46:15.5933|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 12:46:15.5933|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 12:46:15.7723|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||10|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 12:46:15.8390|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||10|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 67.9606ms
2025-07-08 12:46:15.8648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 12:46:15.8648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 12:46:15.8648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 6.9325ms
2025-07-08 12:46:15.8878|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 21.9242ms
2025-07-08 12:46:16.0509|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 12:46:16.0691|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 18.1189ms
2025-07-08 13:04:07.3949|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:04:07.4073|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:04:09.8693|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (47ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:04:09.9838|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:04:09.9838|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:04:10.0585|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 13:04:10.0585|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 13:04:10.0966|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 13:04:10.0966|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 13:04:10.0966|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:04:10.1805|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:04:10.2527|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 73.2818ms
2025-07-08 13:04:10.2811|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:04:10.2811|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:04:10.2811|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.1390ms
2025-07-08 13:04:10.3067|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.5623ms
2025-07-08 13:04:10.5122|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:04:10.5281|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 15.8177ms
2025-07-08 13:04:18.7696|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:04:18.7834|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:04:21.5520|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (46ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:04:21.7099|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:04:21.7099|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:04:21.8005|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 13:04:21.8005|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 13:04:21.8569|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 13:04:21.8593|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 13:04:21.8593|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:04:21.8876|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:04:21.9683|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 81.9947ms
2025-07-08 13:04:21.9683|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:04:21.9903|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:04:22.0020|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 11.5298ms
2025-07-08 13:04:22.0153|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 34.1330ms
2025-07-08 13:04:22.2129|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:04:22.2325|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.5101ms
2025-07-08 13:04:27.6726|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:04:27.6880|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:04:28.0099|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2025-07-08 13:04:28.0350|INFO|Microsoft.EntityFrameworkCore.Migrations||1|Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-07-08 13:04:28.0705|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-07-08 13:04:28.1267|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-07-08 13:04:28.1267|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT 1
2025-07-08 13:04:28.1267|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-07-08 13:04:28.1465|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (7ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-07-08 13:04:28.1604|INFO|Microsoft.EntityFrameworkCore.Migrations||1|Applying migration '20250708110419_PosibleNullTemperatura'.
2025-07-08 13:04:28.2933|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (115ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'MinTemperature');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [MinTemperature] int NULL;
2025-07-08 13:04:28.3344|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (40ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[WeatherComplete]') AND [c].[name] = N'MaxTemperature');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [WeatherComplete] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [WeatherComplete] ALTER COLUMN [MaxTemperature] int NULL;
2025-07-08 13:04:28.3451|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250708110419_PosibleNullTemperatura', N'9.0.6');
2025-07-08 13:04:28.3451|INFO|Microsoft.EntityFrameworkCore.Database.Command||1|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-07-08 13:04:30.2349|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (31ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:04:30.3438|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:04:30.3438|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:04:30.4265|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 13:04:30.4265|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 13:04:30.4692|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 13:04:30.4692|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 13:04:30.4692|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:04:30.4907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:04:30.5634|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 75.2344ms
2025-07-08 13:04:30.5634|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:04:30.5634|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:04:30.5877|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.7104ms
2025-07-08 13:04:30.6026|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.7120ms
2025-07-08 13:04:30.7658|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:04:30.7827|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 16.8374ms
2025-07-08 13:06:01.1131|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:06:01.1245|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 11.3651ms
2025-07-08 13:06:01.1411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:06:01.1411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:06:01.1411|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 4.2322ms
2025-07-08 13:06:01.1603|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 19.1236ms
2025-07-08 13:06:01.3301|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:06:01.3524|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 22.2877ms
2025-07-08 13:06:38.9606|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:06:38.9885|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:06:41.2611|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (37ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:06:41.3614|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:06:41.3614|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:06:41.4363|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 13:06:41.4372|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 13:06:41.4736|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 13:06:41.4736|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 13:06:41.4736|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:06:42.0673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:06:42.0673|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:06:42.0811|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 15.2078ms
2025-07-08 13:06:42.0962|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 30.8361ms
2025-07-08 13:06:42.3710|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:06:42.4052|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 34.1291ms
2025-07-08 13:11:42.8122|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:11:42.8286|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:11:45.8095|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (38ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:11:45.9184|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:11:45.9256|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:11:45.9946|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 13:11:45.9946|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 13:11:46.0359|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 13:11:46.0359|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 13:11:46.0359|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:11:46.1214|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:11:46.1864|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 66.8403ms
2025-07-08 13:11:46.2181|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:11:46.2181|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.6295ms
2025-07-08 13:11:46.2734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:11:46.2935|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 20.0966ms
2025-07-08 13:11:46.4500|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:11:46.4694|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.3037ms
2025-07-08 13:12:02.4692|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:12:02.4692|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 8.1110ms
2025-07-08 13:12:02.4940|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:12:02.5007|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:12:02.5007|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 1.8480ms
2025-07-08 13:12:02.5007|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 18.5786ms
2025-07-08 13:12:02.6984|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:12:02.7128|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 14.4019ms
2025-07-08 13:12:18.6542|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:12:18.6733|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:12:21.1002|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (23ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:12:21.2042|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:12:21.2042|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:12:21.2834|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 13:12:21.2834|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 13:12:21.3283|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 13:12:21.3283|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 13:12:21.3283|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:12:21.7033|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:12:21.7033|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:12:21.7033|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 17.5085ms
2025-07-08 13:12:21.7366|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 36.0206ms
2025-07-08 13:12:21.8712|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:12:21.9040|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 32.7405ms
2025-07-08 13:19:02.8681|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:19:02.9021|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:19:06.4457|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (38ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 13:19:06.5475|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:19:06.5475|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:19:06.6245|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 13:19:06.6245|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 13:19:06.6602|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 13:19:06.6602|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 13:19:06.6602|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:19:07.0506|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:19:07.1166|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 67.2519ms
2025-07-08 13:19:07.1459|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:19:07.1459|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:19:07.1562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.0963ms
2025-07-08 13:19:07.1744|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 28.4577ms
2025-07-08 13:19:07.3734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:19:07.3927|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.2951ms
2025-07-08 13:19:53.8584|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:19:53.8663|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 7.9437ms
2025-07-08 13:19:53.8826|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:19:53.8826|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:19:53.8826|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 1.9511ms
2025-07-08 13:19:53.8978|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 15.1652ms
2025-07-08 13:19:54.1073|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:19:54.1159|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 8.5974ms
2025-07-08 13:20:28.3601|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:20:28.3753|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:20:30.8128|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (23ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 13:20:30.9069|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:20:30.9069|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:20:31.0014|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 13:20:31.0014|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 13:20:31.0388|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 13:20:31.0388|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 13:20:31.0388|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:20:31.4579|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:20:31.5268|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 70.8029ms
2025-07-08 13:20:31.5549|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:20:31.5549|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:20:31.5640|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.1140ms
2025-07-08 13:20:31.5806|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.5682ms
2025-07-08 13:20:31.7169|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:20:31.7391|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 22.0115ms
2025-07-08 13:20:57.1522|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:20:57.1800|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:21:00.2307|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (35ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 13:21:00.3355|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:21:00.3431|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:21:00.4108|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: https://localhost:7131
2025-07-08 13:21:00.4108|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: http://localhost:5216
2025-07-08 13:21:00.4468|INFO|Microsoft.Hosting.Lifetime||4|Application started. Press Ctrl+C to shut down.
2025-07-08 13:21:00.4468|INFO|Microsoft.Hosting.Lifetime||4|Hosting environment: Development
2025-07-08 13:21:00.4468|INFO|Microsoft.Hosting.Lifetime||4|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:21:00.9845|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:21:01.0478|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 64.4128ms
2025-07-08 13:21:01.0772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:21:01.0772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:21:01.0843|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 7.0174ms
2025-07-08 13:21:01.1017|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 24.4281ms
2025-07-08 13:21:01.2448|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:21:01.2667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 22.0417ms
2025-07-08 13:21:22.3093|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:21:22.3342|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:21:24.8799|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (24ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:21:24.9840|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:21:24.9840|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:21:25.0612|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: https://localhost:7131
2025-07-08 13:21:25.0620|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: http://localhost:5216
2025-07-08 13:21:25.1002|INFO|Microsoft.Hosting.Lifetime||4|Application started. Press Ctrl+C to shut down.
2025-07-08 13:21:25.1002|INFO|Microsoft.Hosting.Lifetime||4|Hosting environment: Development
2025-07-08 13:21:25.1002|INFO|Microsoft.Hosting.Lifetime||4|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:21:25.5684|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:21:25.6434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 75.9239ms
2025-07-08 13:21:25.6434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:21:25.6434|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:21:25.6620|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.9324ms
2025-07-08 13:21:25.6822|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 30.2121ms
2025-07-08 13:21:25.8460|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:21:25.8762|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 29.9533ms
2025-07-08 13:22:14.9624|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 13:22:14.9927|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando.
2025-07-08 13:22:17.7322|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (38ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 13:22:17.8313|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 13:22:17.8313|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|WeatherUpdateHostedService: datos registrados correctamente.
2025-07-08 13:22:17.9011|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 13:22:17.9011|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 13:22:17.9421|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 13:22:17.9421|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 13:22:17.9421|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 13:22:18.0130|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 13:22:18.0893|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 77.1657ms
2025-07-08 13:22:18.1243|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 13:22:18.1243|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 7.6646ms
2025-07-08 13:22:18.1860|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 13:22:18.2153|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 29.2906ms
2025-07-08 13:22:18.3278|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 13:22:18.3476|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.7371ms
2025-07-08 15:40:57.0070|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 15:40:57.0197|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 15:40:57.7189|ERROR|Infraestructura.Services.WeatherUpdateHostedService||6|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 59
2025-07-08 15:40:57.8151|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 15:40:57.8151|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 15:40:57.8563|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 15:40:57.8581|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 15:40:57.8581|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 15:40:58.4939|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 15:40:58.4939|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 15:40:58.5104|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 19.2524ms
2025-07-08 15:40:58.5291|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 39.2571ms
2025-07-08 15:40:58.7507|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 15:40:58.7868|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 36.0214ms
2025-07-08 15:42:44.9523|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 15:42:44.9869|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 15:42:45.6741|ERROR|Infraestructura.Services.WeatherUpdateHostedService||9|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 59
2025-07-08 15:42:45.7357|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 15:42:45.7357|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 15:42:45.7674|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 15:42:45.7674|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 15:42:45.7674|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 15:42:46.0720|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 15:42:46.1441|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 74.3435ms
2025-07-08 15:42:46.1609|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 15:42:46.1609|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 15:42:46.1734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 12.3228ms
2025-07-08 15:42:46.1960|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 34.9930ms
2025-07-08 15:42:46.2642|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 15:42:46.2832|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.0378ms
2025-07-08 15:49:22.6640|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 15:49:22.6958|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 15:49:23.0937|INFO|Infraestructura.Services.WeatherUpdateHostedService||10|HostedService: provincias recuperadas = 52
2025-07-08 15:49:23.2198|INFO|Infraestructura.Services.WeatherUpdateHostedService||10|HostedService: municipios recuperados en 42 = 183
2025-07-08 15:49:23.3490|ERROR|Infraestructura.Services.WeatherUpdateHostedService||6|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 67
2025-07-08 15:49:23.4180|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 15:49:23.4180|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 15:49:23.4542|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 15:49:23.4542|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 15:49:23.4542|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 15:49:23.9017|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 15:49:23.9648|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 64.7661ms
2025-07-08 15:49:23.9773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 15:49:23.9833|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 15:49:23.9833|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.7684ms
2025-07-08 15:49:24.0042|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.8538ms
2025-07-08 15:49:24.0917|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 15:49:24.1099|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 18.2263ms
2025-07-08 15:52:00.2190|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 15:52:00.2524|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 15:52:00.6423|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: provincias recuperadas = 52
2025-07-08 15:52:00.7766|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: municipios recuperados en 43 = 184
2025-07-08 15:52:00.9457|ERROR|Infraestructura.Services.WeatherUpdateHostedService||9|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 67
2025-07-08 15:52:01.0152|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 15:52:01.0152|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 15:52:01.0527|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 15:52:01.0527|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 15:52:01.0527|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 15:52:01.4886|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 15:52:01.5606|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 74.3974ms
2025-07-08 15:52:01.5801|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 15:52:01.5801|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 15:52:01.5985|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.5161ms
2025-07-08 15:52:01.6088|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 28.6569ms
2025-07-08 15:52:01.7227|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 15:52:01.7436|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 20.8814ms
2025-07-08 15:52:08.2024|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 15:52:08.2198|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 15:52:08.6593|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: provincias recuperadas = 52
2025-07-08 15:52:08.8005|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: municipios recuperados en 09 = 371
2025-07-08 15:52:08.9278|ERROR|Infraestructura.Services.WeatherUpdateHostedService||4|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 67
2025-07-08 15:52:08.9924|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: https://localhost:7131
2025-07-08 15:52:08.9924|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: http://localhost:5216
2025-07-08 15:52:09.0278|INFO|Microsoft.Hosting.Lifetime||4|Application started. Press Ctrl+C to shut down.
2025-07-08 15:52:09.0278|INFO|Microsoft.Hosting.Lifetime||4|Hosting environment: Development
2025-07-08 15:52:09.0305|INFO|Microsoft.Hosting.Lifetime||4|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 15:52:09.1175|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 15:52:09.1774|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 61.8566ms
2025-07-08 15:52:09.1938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 15:52:09.1938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 15:52:09.1938|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 7.1604ms
2025-07-08 15:52:09.2204|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.5912ms
2025-07-08 15:52:09.2837|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 15:52:09.3043|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 20.5489ms
2025-07-08 15:56:57.1003|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 15:56:57.1298|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 15:56:57.5856|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: provincias recuperadas = 52
2025-07-08 15:56:57.6643|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: municipios recuperados en 07 = 67
2025-07-08 15:56:57.8494|ERROR|Infraestructura.Services.WeatherUpdateHostedService||7|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 67
2025-07-08 15:56:57.9162|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 15:56:57.9162|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 15:56:57.9497|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 15:56:57.9497|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 15:56:57.9520|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 15:56:58.2884|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 15:56:58.3611|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 74.3192ms
2025-07-08 15:56:58.3740|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 15:56:58.3740|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 15:56:58.3740|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.5650ms
2025-07-08 15:56:58.3993|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.3133ms
2025-07-08 15:56:58.4945|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 15:56:58.5153|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 20.7685ms
2025-07-08 16:00:01.5419|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 16:00:01.5654|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 16:00:01.9770|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: provincias recuperadas = 52
2025-07-08 16:00:02.0808|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: municipios recuperados en 03 = 141
2025-07-08 16:00:02.2175|ERROR|Infraestructura.Services.WeatherUpdateHostedService||6|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 67
2025-07-08 16:00:02.3057|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 16:00:02.3057|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 16:00:02.3447|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 16:00:02.3447|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 16:00:02.3447|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 16:00:02.7930|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 16:00:02.8545|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 63.7705ms
2025-07-08 16:00:02.8734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 16:00:02.8734|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 16:00:02.8830|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.4990ms
2025-07-08 16:00:02.9018|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 28.3753ms
2025-07-08 16:00:02.9743|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 16:00:02.9972|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 22.7184ms
2025-07-08 16:18:42.4830|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||3|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 16:18:42.4830|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 9.5701ms
2025-07-08 16:18:42.5115|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 16:18:42.5201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 16:18:42.5201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 1.6918ms
2025-07-08 16:18:42.5201|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||23|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 12.9960ms
2025-07-08 16:18:42.8266|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 16:18:42.8403|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 13.5792ms
2025-07-08 16:26:42.6287|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 16:26:42.6287|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 8.6700ms
2025-07-08 16:26:42.6659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 16:26:42.6659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||28|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 16:26:42.6659|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 2.2083ms
2025-07-08 16:26:42.6742|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||30|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 7.8839ms
2025-07-08 16:26:42.7772|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||26|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 16:26:42.7849|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||28|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 7.6104ms
2025-07-08 16:26:51.5871|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 16:26:51.6145|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|WeatherUpdateHostedService arrancando con municipio aleatorio.
2025-07-08 16:26:52.2338|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: provincias recuperadas = 52
2025-07-08 16:26:52.3388|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: municipios recuperados en 39 = 102
2025-07-08 16:27:21.4369|ERROR|Infraestructura.Services.WeatherUpdateHostedService||14|Error en WeatherUpdateHostedService al procesar municipio aleatorio.|System.Exception: WeatherClient.GetMunicipioAsync error
 ---> System.Exception: ElTiempo API error (NotFound): There is an error in XML document (0, 0).
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 88
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipioAsync(String codProvincia, String codMunicipio) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 93
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 67
2025-07-08 16:27:21.6366|INFO|Microsoft.Hosting.Lifetime||14|Now listening on: https://localhost:7131
2025-07-08 16:27:21.6366|INFO|Microsoft.Hosting.Lifetime||14|Now listening on: http://localhost:5216
2025-07-08 16:27:21.6738|INFO|Microsoft.Hosting.Lifetime||14|Application started. Press Ctrl+C to shut down.
2025-07-08 16:27:21.6738|INFO|Microsoft.Hosting.Lifetime||14|Hosting environment: Development
2025-07-08 16:27:21.6738|INFO|Microsoft.Hosting.Lifetime||14|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 16:27:22.7562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 16:27:22.7562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 16:27:22.8070|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 64.2293ms
2025-07-08 16:27:22.8406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||18|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 99.4284ms
2025-07-08 16:27:23.0339|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||18|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 16:27:23.0989|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 65.8682ms
2025-07-08 16:44:34.6590|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 16:44:34.7817|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 16:44:34.7817|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 16:44:34.8366|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 16:44:34.8366|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 16:44:34.8366|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 16:44:35.2236|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 16:44:35.2236|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 16:44:35.2407|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 19.8481ms
2025-07-08 16:44:35.2629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 42.9186ms
2025-07-08 16:44:35.5925|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 16:44:35.6294|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 36.8728ms
2025-07-08 16:44:58.4103|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-08 16:44:58.4654|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 16:44:58.5176|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-08 16:44:58.7827|INFO|Infraestructura.Controllers.UsersController||15|[0HNDU5NQEIR42] Call: Login(email=prueba@gmail.com)
2025-07-08 16:45:00.5623|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-08 16:45:00.9698|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 16:45:01.0357|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 16:45:01.0585|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||9|AuthenticationScheme: Identity.Application signed in.
2025-07-08 16:45:01.0876|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-08 16:45:01.1010|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 16:45:01.1010|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 16:45:01.1529|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|9|[0HNDU5NQEIR42] FinishCall: Login – token issued
2025-07-08 16:45:01.1714|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|9|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-08 16:45:01.2022|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|9|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 2669.6473ms
2025-07-08 16:45:01.2050|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|9|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 16:45:01.2210|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|9|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 2810.6927ms
2025-07-08 16:45:17.2823|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 16:45:17.4653|INFO|Microsoft.EntityFrameworkCore.Database.Command||13|Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-08 16:45:17.4748|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executing endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 16:45:17.4748|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Route matched with {action = "GetHome", controller = "RemoteWeather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.HomeResponseDTO]] GetHomeAsync() on controller Infraestructura.Controllers.RemoteWeatherController (Weather.api).
2025-07-08 16:45:17.5082|INFO|Infraestructura.Controllers.RemoteWeatherController||13|[0HNDU5NQEIR42] Call: GetHomeAsync()
2025-07-08 16:45:19.6706|INFO|Infraestructura.Controllers.RemoteWeatherController||13|[0HNDU5NQEIR42] FinishCall: GetHomeAsync – details retrieved
2025-07-08 16:45:19.6729|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing OkObjectResult, writing value of type 'Core.DTO.HomeResponseDTO'.
2025-07-08 16:45:19.6729|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api) in 2200.0546ms
2025-07-08 16:45:19.6875|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 16:45:19.6875|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 200 - application/json;+charset=utf-8 2407.4960ms
2025-07-08 17:08:29.7780|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:08:29.8750|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-08 17:08:29.8750|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-08 17:08:29.9377|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-08 17:08:29.9377|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-08 17:08:29.9377|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:08:30.3583|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:08:30.4609|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 104.3553ms
2025-07-08 17:08:30.4791|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:08:30.4849|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:08:30.4849|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.7173ms
2025-07-08 17:08:30.5088|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 23.8359ms
2025-07-08 17:08:30.9359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:08:30.9531|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 17.1273ms
2025-07-08 17:09:01.1672|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 17:09:02.1361|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||11|Bearer was not authenticated. Failure message: Token inválido: SecurityStamp no coincide.
2025-07-08 17:09:02.1422|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||11|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-08 17:09:02.1422|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||11|AuthenticationScheme: Bearer was challenged.
2025-07-08 17:09:02.1577|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 401 0 - 990.3986ms
2025-07-08 17:09:10.2916|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 17:09:11.1526|INFO|Microsoft.EntityFrameworkCore.Database.Command||11|Executed DbCommand (79ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-08 17:09:11.3217|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||11|Bearer was not authenticated. Failure message: Token inválido: SecurityStamp no coincide.
2025-07-08 17:09:11.3282|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||11|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-08 17:09:11.3282|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||11|AuthenticationScheme: Bearer was challenged.
2025-07-08 17:09:11.3282|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 401 0 - 1045.1068ms
2025-07-08 17:09:30.6181|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-08 17:09:30.6539|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-08 17:09:30.6583|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||9|Bearer was not authenticated. Failure message: Token inválido: SecurityStamp no coincide.
2025-07-08 17:09:30.6583|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||9|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 17:09:30.7060|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||9|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-08 17:09:30.7878|INFO|Infraestructura.Controllers.UsersController||9|[0HNDU6567ORBA] Call: Login(email=prueba@gmail.com)
2025-07-08 17:09:30.8252|INFO|Microsoft.EntityFrameworkCore.Database.Command||11|Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-08 17:09:31.0506|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 17:09:31.1144|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 17:09:31.1391|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||9|AuthenticationScheme: Identity.Application signed in.
2025-07-08 17:09:31.1693|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-08 17:09:31.1757|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-08 17:09:31.1757|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|9|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-08 17:09:31.2036|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|9|[0HNDU6567ORBA] FinishCall: Login – token issued
2025-07-08 17:09:31.2036|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|9|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-08 17:09:31.2444|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|9|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 521.1168ms
2025-07-08 17:09:31.2444|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|9|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-08 17:09:31.2508|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|9|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 632.5363ms
2025-07-08 17:09:44.6327|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||11|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-08 17:09:44.6414|INFO|Microsoft.EntityFrameworkCore.Database.Command||11|Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-08 17:09:44.6414|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||11|Executing endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 17:09:44.6596|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||11|Route matched with {action = "GetHome", controller = "RemoteWeather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.HomeResponseDTO]] GetHomeAsync() on controller Infraestructura.Controllers.RemoteWeatherController (Weather.api).
2025-07-08 17:09:44.6895|INFO|Infraestructura.Controllers.RemoteWeatherController||11|[0HNDU6567ORBA] Call: GetHomeAsync()
2025-07-08 17:09:46.4540|INFO|Infraestructura.Controllers.RemoteWeatherController||20|[0HNDU6567ORBA] FinishCall: GetHomeAsync – details retrieved
2025-07-08 17:09:46.4540|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||20|Executing OkObjectResult, writing value of type 'Core.DTO.HomeResponseDTO'.
2025-07-08 17:09:46.4540|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||20|Executed action Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api) in 1805.2712ms
2025-07-08 17:09:46.4688|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||20|Executed endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-08 17:09:46.4688|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 200 - application/json;+charset=utf-8 1838.3325ms
2025-07-08 17:13:26.3319|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:13:26.3447|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:13:29.1974|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (42ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 17:13:29.2960|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 17:13:29.3040|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 17:13:29.3743|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 17:13:29.3743|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 17:13:29.4134|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 17:13:29.4134|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 17:13:29.4134|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:13:29.8336|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:13:29.8932|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 60.7702ms
2025-07-08 17:13:29.9103|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:13:29.9103|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:13:29.9103|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.1379ms
2025-07-08 17:13:29.9358|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.5381ms
2025-07-08 17:13:30.2889|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:13:30.3079|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 18.9870ms
2025-07-08 17:14:10.4668|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:14:10.4914|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:14:13.6093|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (51ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 17:14:13.7356|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 17:14:13.7356|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 17:14:13.8100|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 17:14:13.8100|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 17:14:13.8557|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 17:14:13.8557|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 17:14:13.8557|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:14:14.2859|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:14:14.3577|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 72.2759ms
2025-07-08 17:14:14.3751|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:14:14.3751|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:14:14.3751|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 11.0767ms
2025-07-08 17:14:14.4034|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 28.2092ms
2025-07-08 17:14:14.5666|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:14:14.5902|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 23.5894ms
2025-07-08 17:24:35.8604|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:24:35.8773|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:24:38.7147|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (36ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 17:24:38.8077|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 17:24:38.8144|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 17:24:38.8807|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 17:24:38.8807|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 17:24:38.9182|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 17:24:38.9182|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 17:24:38.9213|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:24:39.5322|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:24:39.5322|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:24:39.5322|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 14.9448ms
2025-07-08 17:24:39.6391|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 108.8977ms
2025-07-08 17:24:39.8500|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:24:39.8866|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 36.5840ms
2025-07-08 17:54:25.3245|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:54:25.3530|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:54:28.0355|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (39ms) [Parameters=[@__entity_Id_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[Id] = @__entity_Id_0
2025-07-08 17:54:28.1242|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 17:54:28.1317|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: datos de Home registrados correctamente.
2025-07-08 17:54:28.1992|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: https://localhost:7131
2025-07-08 17:54:28.1992|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: http://localhost:5216
2025-07-08 17:54:28.2397|INFO|Microsoft.Hosting.Lifetime||4|Application started. Press Ctrl+C to shut down.
2025-07-08 17:54:28.2397|INFO|Microsoft.Hosting.Lifetime||4|Hosting environment: Development
2025-07-08 17:54:28.2397|INFO|Microsoft.Hosting.Lifetime||4|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:54:28.6163|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:54:28.6163|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:54:28.6323|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 17.6526ms
2025-07-08 17:54:28.6914|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 77.5162ms
2025-07-08 17:54:28.8305|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:54:28.8629|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 32.3816ms
2025-07-08 17:58:23.1651|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:58:23.1777|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:58:25.4459|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (32ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 17:58:25.5538|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-08 17:58:25.5647|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 17:58:25.6370|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 17:58:25.6370|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 17:58:25.6740|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 17:58:25.6740|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 17:58:25.6740|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:58:25.9907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:58:26.0544|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 64.5547ms
2025-07-08 17:58:26.0758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:58:26.0758|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:58:26.0854|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.5925ms
2025-07-08 17:58:26.1021|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.2918ms
2025-07-08 17:58:26.3104|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:58:26.3329|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 22.3125ms
2025-07-08 17:59:10.9832|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:59:10.9976|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 14.3894ms
2025-07-08 17:59:11.0118|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:59:11.0118|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:59:11.0157|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 3.6558ms
2025-07-08 17:59:11.0311|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 19.2335ms
2025-07-08 17:59:11.2097|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:59:11.2408|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 31.0747ms
2025-07-08 17:59:35.4177|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:59:35.4464|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:59:38.1121|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (23ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 17:59:38.2154|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 17:59:38.2222|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 17:59:38.2868|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 17:59:38.2868|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 17:59:38.3253|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 17:59:38.3276|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 17:59:38.3276|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:59:38.6700|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:59:38.7363|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 67.3902ms
2025-07-08 17:59:38.7653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:59:38.7653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:59:38.7653|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.9577ms
2025-07-08 17:59:38.7907|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.3780ms
2025-07-08 17:59:38.9242|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:59:38.9466|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 22.2533ms
2025-07-08 17:59:53.2639|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 17:59:53.2885|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 17:59:55.7735|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (22ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 17:59:55.8905|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-08 17:59:55.8905|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: datos de Home registrados correctamente.
2025-07-08 17:59:55.9909|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 17:59:55.9909|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 17:59:56.0332|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 17:59:56.0332|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 17:59:56.0332|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 17:59:56.5061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 17:59:56.5879|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 83.3169ms
2025-07-08 17:59:56.5936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 17:59:56.5936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 17:59:56.5936|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 13.2175ms
2025-07-08 17:59:56.6265|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 32.8936ms
2025-07-08 17:59:56.7705|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 17:59:56.7992|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 28.5941ms
2025-07-08 20:03:38.9568|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:03:38.9806|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:03:41.7005|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (33ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 20:03:41.7857|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-08 20:03:41.7857|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: datos de Home registrados correctamente.
2025-07-08 20:03:41.8816|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 20:03:41.8816|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 20:03:41.9195|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 20:03:41.9213|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 20:03:41.9213|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:03:42.3638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:03:42.3638|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:03:42.3784|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 16.8772ms
2025-07-08 20:03:42.4393|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 78.6239ms
2025-07-08 20:03:42.5523|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:03:42.5874|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 35.0453ms
2025-07-08 20:04:40.8324|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:04:40.8824|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 49.9949ms
2025-07-08 20:04:40.9359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:04:40.9359|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:04:40.9381|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 2.1905ms
2025-07-08 20:04:40.9381|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 8.7025ms
2025-07-08 20:04:41.1637|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:04:41.1722|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 8.4153ms
2025-07-08 20:04:52.8885|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:04:52.9187|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:04:55.6408|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (19ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 20:04:55.7303|INFO|Microsoft.EntityFrameworkCore.Database.Command||9|Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-08 20:04:55.7381|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: datos de Home registrados correctamente.
2025-07-08 20:04:55.7982|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: https://localhost:7131
2025-07-08 20:04:55.7982|INFO|Microsoft.Hosting.Lifetime||9|Now listening on: http://localhost:5216
2025-07-08 20:04:55.8357|INFO|Microsoft.Hosting.Lifetime||9|Application started. Press Ctrl+C to shut down.
2025-07-08 20:04:55.8357|INFO|Microsoft.Hosting.Lifetime||9|Hosting environment: Development
2025-07-08 20:04:55.8357|INFO|Microsoft.Hosting.Lifetime||9|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:04:56.2695|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:04:56.3241|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 56.0430ms
2025-07-08 20:04:56.3773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:04:56.3773|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:04:56.3866|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.1241ms
2025-07-08 20:04:56.4025|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.0969ms
2025-07-08 20:04:56.6301|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:04:56.6449|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 14.8010ms
2025-07-08 20:05:09.3009|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:05:09.3143|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:05:11.9427|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (18ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 20:05:12.0330|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-08 20:05:12.0417|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 20:05:12.0980|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 20:05:12.0988|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 20:05:12.1326|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 20:05:12.1326|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 20:05:12.1326|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:05:12.2186|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:05:12.2751|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 57.9909ms
2025-07-08 20:05:12.3049|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:05:12.3049|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:05:12.3138|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.8969ms
2025-07-08 20:05:12.3282|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 23.2908ms
2025-07-08 20:05:12.8913|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:05:12.9070|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 15.6223ms
2025-07-08 20:17:05.0499|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:17:05.0627|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:17:08.0450|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (38ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 20:17:08.1378|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 20:17:08.1477|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: datos de Home registrados correctamente.
2025-07-08 20:17:08.2104|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 20:17:08.2104|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 20:17:08.2466|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 20:17:08.2487|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 20:17:08.2487|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:17:08.5692|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:17:08.6333|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 65.3050ms
2025-07-08 20:17:08.6815|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:17:08.6815|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 6.4102ms
2025-07-08 20:17:08.6949|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:17:08.7157|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 20.7382ms
2025-07-08 20:17:09.1438|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:17:09.1606|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 16.8238ms
2025-07-08 20:17:32.8376|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:17:32.8616|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:17:35.1711|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (35ms) [Parameters=[@__entity_IdProvince_0='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
WHERE [w].[IdProvince] = @__entity_IdProvince_0
2025-07-08 20:17:35.2705|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 20:17:35.2705|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 20:17:35.3394|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 20:17:35.3394|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 20:17:35.3749|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 20:17:35.3770|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 20:17:35.3770|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:17:35.6155|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:17:35.6756|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 61.2165ms
2025-07-08 20:17:35.6913|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:17:35.6913|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:17:35.6913|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.8718ms
2025-07-08 20:17:35.7175|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.1642ms
2025-07-08 20:17:35.9839|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:17:35.9989|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 15.0060ms
2025-07-08 20:21:04.3105|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:21:04.3318|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:21:07.5710|WARN|Microsoft.EntityFrameworkCore.Query||7|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-08 20:21:07.7717|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-08 20:21:07.8688|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [WeatherComplete] ([Id], [IdProvince], [MaxTemperature], [MinTemperature], [NameProvince], [NameTown], [StateSkyDescription], [StateSkyId], [UpdateDateTime])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
2025-07-08 20:21:07.8755|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-08 20:21:07.9340|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-08 20:21:07.9340|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-08 20:21:07.9691|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-08 20:21:07.9691|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-08 20:21:07.9691|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:21:08.2915|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:21:08.3493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 60.0467ms
2025-07-08 20:21:08.3937|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:21:08.3937|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:21:08.3937|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.2794ms
2025-07-08 20:21:08.4197|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.9620ms
2025-07-08 20:21:08.6479|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:21:08.6634|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 15.4296ms
2025-07-08 20:21:28.7055|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-08 20:21:28.7292|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-08 20:21:31.6611|WARN|Microsoft.EntityFrameworkCore.Query||9|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-08 20:21:31.8521|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-08 20:21:31.9522|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (16ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-08 20:21:31.9602|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: datos de Home registrados correctamente.
2025-07-08 20:21:32.0176|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-08 20:21:32.0176|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-08 20:21:32.0676|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-08 20:21:32.0676|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-08 20:21:32.0676|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-08 20:21:32.0831|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-08 20:21:32.1526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 70.9219ms
2025-07-08 20:21:32.1681|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-08 20:21:32.1681|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-08 20:21:32.1768|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.5767ms
2025-07-08 20:21:32.1944|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.1741ms
2025-07-08 20:21:32.4086|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-08 20:21:32.4246|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 15.8270ms
2025-07-09 08:48:03.5841|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 08:48:03.5965|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 08:48:36.4760|WARN|Microsoft.EntityFrameworkCore.Query||4|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 08:48:36.8579|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (33ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 08:48:36.9984|INFO|Microsoft.EntityFrameworkCore.Database.Command||14|Executed DbCommand (28ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 08:48:36.9984|INFO|Infraestructura.Services.WeatherUpdateHostedService||14|HostedService: datos de Home registrados correctamente.
2025-07-09 08:48:37.1410|INFO|Microsoft.Hosting.Lifetime||14|Now listening on: https://localhost:7131
2025-07-09 08:48:37.1410|INFO|Microsoft.Hosting.Lifetime||14|Now listening on: http://localhost:5216
2025-07-09 08:48:37.1983|INFO|Microsoft.Hosting.Lifetime||14|Application started. Press Ctrl+C to shut down.
2025-07-09 08:48:37.1983|INFO|Microsoft.Hosting.Lifetime||14|Hosting environment: Development
2025-07-09 08:48:37.2017|INFO|Microsoft.Hosting.Lifetime||14|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 08:48:38.0617|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 08:48:38.0617|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 08:48:38.0811|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 22.3642ms
2025-07-09 08:48:38.1810|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 122.8844ms
2025-07-09 08:48:38.2689|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 08:48:38.3253|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 56.3715ms
2025-07-09 09:01:47.9873|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:01:48.0060|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 09:02:07.8201|ERROR|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (OK): The JSON value could not be converted to System.Int32. Path: $.ciudades[9].temperatures.max | LineNumber: 0 | BytePositionInLine: 2250.
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 35
2025-07-09 09:02:07.9680|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: https://localhost:7131
2025-07-09 09:02:07.9695|INFO|Microsoft.Hosting.Lifetime||6|Now listening on: http://localhost:5216
2025-07-09 09:02:08.0291|INFO|Microsoft.Hosting.Lifetime||6|Application started. Press Ctrl+C to shut down.
2025-07-09 09:02:08.0316|INFO|Microsoft.Hosting.Lifetime||6|Hosting environment: Development
2025-07-09 09:02:08.0316|INFO|Microsoft.Hosting.Lifetime||6|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:02:08.6163|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:02:08.6163|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:02:08.6430|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 34.9260ms
2025-07-09 09:02:08.6753|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 68.4450ms
2025-07-09 09:02:08.7268|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:02:08.7924|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 65.5430ms
2025-07-09 09:02:31.5353|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:02:31.5562|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 09:02:58.0777|WARN|Microsoft.EntityFrameworkCore.Query||7|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 09:02:58.3229|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:02:58.4878|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (36ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 09:02:58.4878|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-09 09:02:58.5692|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-09 09:02:58.5692|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-09 09:02:58.6050|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-09 09:02:58.6050|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-09 09:02:58.6077|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:02:59.1261|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 09:02:59.2021|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 78.1331ms
2025-07-09 09:02:59.2187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:02:59.2187|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:02:59.2377|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.6844ms
2025-07-09 09:02:59.2578|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 39.0572ms
2025-07-09 09:02:59.3312|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:02:59.3507|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.4641ms
2025-07-09 09:12:19.2998|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:12:19.3305|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 09:12:36.1580|WARN|Microsoft.EntityFrameworkCore.Query||7|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 09:12:36.3879|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:12:36.5081|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (27ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 09:12:36.5175|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-09 09:12:36.5833|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: https://localhost:7131
2025-07-09 09:12:36.5833|INFO|Microsoft.Hosting.Lifetime||7|Now listening on: http://localhost:5216
2025-07-09 09:12:36.6193|INFO|Microsoft.Hosting.Lifetime||7|Application started. Press Ctrl+C to shut down.
2025-07-09 09:12:36.6193|INFO|Microsoft.Hosting.Lifetime||7|Hosting environment: Development
2025-07-09 09:12:36.6193|INFO|Microsoft.Hosting.Lifetime||7|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:12:37.0326|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 09:12:37.0978|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 66.0961ms
2025-07-09 09:12:37.1250|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:12:37.1250|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:12:37.1343|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.2183ms
2025-07-09 09:12:37.1494|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 24.3414ms
2025-07-09 09:12:37.3756|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:12:37.3924|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 16.8003ms
2025-07-09 09:13:52.7036|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request starting HTTP/2 GET https://localhost:7131/api/WeatherComplete - - -
2025-07-09 09:13:52.7797|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||20|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-09 09:13:52.7883|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||20|AuthenticationScheme: Bearer was challenged.
2025-07-09 09:13:52.7883|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||20|Request finished HTTP/2 GET https://localhost:7131/api/WeatherComplete - 401 0 - 85.9404ms
2025-07-09 09:14:19.1234|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-09 09:14:19.1319|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||22|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-09 09:14:19.1796|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||22|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-09 09:14:19.2919|INFO|Infraestructura.Controllers.UsersController||22|[0HNDUMVTTC8JU] Call: Login(email=prueba@gmail.com)
2025-07-09 09:14:19.3954|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-09 09:14:19.5961|INFO|Microsoft.EntityFrameworkCore.Database.Command||20|Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-09 09:14:19.6304|INFO|Microsoft.EntityFrameworkCore.Database.Command||20|Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-09 09:14:19.6447|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||20|AuthenticationScheme: Identity.Application signed in.
2025-07-09 09:14:19.6598|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|20|Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-09 09:14:19.6598|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|20|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-09 09:14:19.6709|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|20|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-09 09:14:19.7018|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|20|[0HNDUMVTTC8JU] FinishCall: Login – token issued
2025-07-09 09:14:19.7131|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|20|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-09 09:14:19.7413|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|20|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 546.3517ms
2025-07-09 09:14:19.7413|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|20|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-09 09:14:19.7523|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|20|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 628.8553ms
2025-07-09 09:14:32.7420|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/api/WeatherComplete - - -
2025-07-09 09:14:32.9493|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-09 09:14:32.9550|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executing endpoint 'Weather.api.Controllers.WeatherCompleteController.GetAllAsync (Weather.api)'
2025-07-09 09:14:32.9550|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Route matched with {action = "GetAll", controller = "WeatherComplete"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Core.DTO.WeatherCompleteReadDTO]]] GetAllAsync() on controller Weather.api.Controllers.WeatherCompleteController (Weather.api).
2025-07-09 09:14:32.9808|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (5ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:14:32.9833|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||6|Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[Core.Entities.WeatherComplete, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Core.DTO.WeatherCompleteReadDTO, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-09 09:14:32.9833|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||6|Executed action Weather.api.Controllers.WeatherCompleteController.GetAllAsync (Weather.api) in 29.4209ms
2025-07-09 09:14:32.9833|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||6|Executed endpoint 'Weather.api.Controllers.WeatherCompleteController.GetAllAsync (Weather.api)'
2025-07-09 09:14:32.9833|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/api/WeatherComplete - 200 - application/json;+charset=utf-8 250.9961ms
2025-07-09 09:49:59.2972|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:49:59.3227|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService periódico arrancado; intervalo = 1 min.
2025-07-09 09:49:59.4156|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 09:49:59.5848|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 09:49:59.5848|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 09:49:59.6646|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 09:49:59.6646|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 09:49:59.6646|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:50:00.3175|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:50:00.3175|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:50:00.3352|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 21.8099ms
2025-07-09 09:50:00.3518|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 38.7225ms
2025-07-09 09:50:00.5230|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:50:00.5701|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 47.0408ms
2025-07-09 09:50:25.3084|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:50:25.3339|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 09:50:45.8247|WARN|Microsoft.EntityFrameworkCore.Query||4|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 09:50:46.0889|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (37ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:50:46.3186|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (22ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 09:50:46.3341|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: datos de Home registrados correctamente.
2025-07-09 09:50:46.4795|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: https://localhost:7131
2025-07-09 09:50:46.4795|INFO|Microsoft.Hosting.Lifetime||4|Now listening on: http://localhost:5216
2025-07-09 09:50:46.5738|INFO|Microsoft.Hosting.Lifetime||4|Application started. Press Ctrl+C to shut down.
2025-07-09 09:50:46.5738|INFO|Microsoft.Hosting.Lifetime||4|Hosting environment: Development
2025-07-09 09:50:46.5774|INFO|Microsoft.Hosting.Lifetime||4|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:50:46.7339|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:50:46.7339|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:50:46.7527|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 21.6688ms
2025-07-09 09:50:46.7762|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 45.7730ms
2025-07-09 09:50:46.9060|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:50:46.9733|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 67.2343ms
2025-07-09 09:52:20.4077|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:52:20.4302|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 1 min.
2025-07-09 09:52:20.5113|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: arrancando actualización desde Home.
2025-07-09 09:52:20.5170|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 09:52:20.5170|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 09:52:20.6500|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 09:52:20.6500|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 09:52:20.6500|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:52:20.7868|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 09:52:20.8562|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 71.7852ms
2025-07-09 09:52:20.8881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:52:20.8881|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:52:20.8969|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.6764ms
2025-07-09 09:52:20.9134|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.2473ms
2025-07-09 09:52:21.1236|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:52:21.1429|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 19.2147ms
2025-07-09 09:52:45.5660|WARN|Microsoft.EntityFrameworkCore.Query||4|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 09:52:45.8335|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (45ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:52:45.9377|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (16ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 09:52:45.9470|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: datos de Home registrados correctamente.
2025-07-09 09:53:20.4409|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: arrancando actualización desde Home.
2025-07-09 09:53:43.2935|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (17ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:53:43.3036|INFO|Microsoft.EntityFrameworkCore.Database.Command||22|Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-09 09:53:43.3036|INFO|Infraestructura.Services.WeatherUpdateHostedService||22|HostedService: datos de Home registrados correctamente.
2025-07-09 09:54:20.4482|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: arrancando actualización desde Home.
2025-07-09 09:55:02.3384|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (8ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:55:02.3543|INFO|Microsoft.EntityFrameworkCore.Database.Command||4|Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-09 09:55:02.3543|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: datos de Home registrados correctamente.
2025-07-09 09:55:20.4404|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: arrancando actualización desde Home.
2025-07-09 09:55:58.5514|INFO|Microsoft.EntityFrameworkCore.Database.Command||34|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:55:58.5514|INFO|Microsoft.EntityFrameworkCore.Database.Command||34|Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 09:55:58.5635|INFO|Infraestructura.Services.WeatherUpdateHostedService||34|HostedService: datos de Home registrados correctamente.
2025-07-09 09:56:20.4317|INFO|Infraestructura.Services.WeatherUpdateHostedService||34|HostedService: arrancando actualización desde Home.
2025-07-09 09:56:50.7902|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (1ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:56:50.7970|INFO|Microsoft.EntityFrameworkCore.Database.Command||35|Executed DbCommand (4ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 09:56:50.7970|INFO|Infraestructura.Services.WeatherUpdateHostedService||35|HostedService: datos de Home registrados correctamente.
2025-07-09 09:57:20.4398|INFO|Infraestructura.Services.WeatherUpdateHostedService||28|HostedService: arrancando actualización desde Home.
2025-07-09 09:57:53.9225|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:57:53.9225|INFO|Microsoft.EntityFrameworkCore.Database.Command||27|Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 09:57:53.9225|INFO|Infraestructura.Services.WeatherUpdateHostedService||27|HostedService: datos de Home registrados correctamente.
2025-07-09 09:58:20.4390|INFO|Infraestructura.Services.WeatherUpdateHostedService||27|HostedService: arrancando actualización desde Home.
2025-07-09 09:58:25.5375|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||19|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 09:58:25.5460|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 8.4769ms
2025-07-09 09:58:25.5852|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:58:25.5852|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:58:25.5852|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||27|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 2.0580ms
2025-07-09 09:58:25.5995|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||21|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 13.6424ms
2025-07-09 09:58:25.8707|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:58:25.8795|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||22|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 8.7088ms
2025-07-09 09:59:00.2265|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 09:59:00.2523|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 1 min.
2025-07-09 09:59:00.3472|INFO|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: arrancando actualización desde Home.
2025-07-09 09:59:00.3472|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 09:59:00.3472|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 09:59:00.4300|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 09:59:00.4300|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 09:59:00.4300|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 09:59:00.7501|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 09:59:00.8295|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 82.5679ms
2025-07-09 09:59:00.8557|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 09:59:00.8557|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 09:59:00.8667|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 10.9715ms
2025-07-09 09:59:00.8817|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 26.0255ms
2025-07-09 09:59:01.0065|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 09:59:01.0232|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 16.7137ms
2025-07-09 09:59:35.2028|WARN|Microsoft.EntityFrameworkCore.Query||6|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 09:59:35.4192|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 09:59:35.5249|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (13ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 09:59:35.5249|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: datos de Home registrados correctamente.
2025-07-09 10:00:00.2697|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: arrancando actualización desde Home.
2025-07-09 10:00:44.9719|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:00:44.9719|INFO|Microsoft.EntityFrameworkCore.Database.Command||24|Executed DbCommand (6ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:00:44.9832|INFO|Infraestructura.Services.WeatherUpdateHostedService||24|HostedService: datos de Home registrados correctamente.
2025-07-09 10:01:00.2718|INFO|Infraestructura.Services.WeatherUpdateHostedService||26|HostedService: arrancando actualización desde Home.
2025-07-09 10:01:42.0413|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (16ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:01:42.0500|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:01:42.0500|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: datos de Home registrados correctamente.
2025-07-09 10:02:00.2620|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: arrancando actualización desde Home.
2025-07-09 10:02:35.0219|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:02:35.0303|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (5ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:02:35.0303|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: datos de Home registrados correctamente.
2025-07-09 10:03:00.2561|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: arrancando actualización desde Home.
2025-07-09 10:03:31.5007|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (3ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:03:31.5007|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:03:31.5007|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: datos de Home registrados correctamente.
2025-07-09 10:04:00.2644|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: arrancando actualización desde Home.
2025-07-09 10:04:26.3901|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:04:26.3901|INFO|Microsoft.EntityFrameworkCore.Database.Command||3|Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:04:26.3901|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: datos de Home registrados correctamente.
2025-07-09 10:05:00.2554|INFO|Infraestructura.Services.WeatherUpdateHostedService||30|HostedService: arrancando actualización desde Home.
2025-07-09 10:05:02.7725|ERROR|Infraestructura.Services.WeatherUpdateHostedService||32|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:06:00.2572|INFO|Infraestructura.Services.WeatherUpdateHostedService||33|HostedService: arrancando actualización desde Home.
2025-07-09 10:06:06.3076|INFO|Microsoft.EntityFrameworkCore.Database.Command||20|Executed DbCommand (13ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:06:06.3175|INFO|Microsoft.EntityFrameworkCore.Database.Command||33|Executed DbCommand (7ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:06:06.3175|INFO|Infraestructura.Services.WeatherUpdateHostedService||33|HostedService: datos de Home registrados correctamente.
2025-07-09 10:07:00.2573|INFO|Infraestructura.Services.WeatherUpdateHostedService||37|HostedService: arrancando actualización desde Home.
2025-07-09 10:07:01.6613|ERROR|Infraestructura.Services.WeatherUpdateHostedService||37|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:08:00.2710|INFO|Infraestructura.Services.WeatherUpdateHostedService||35|HostedService: arrancando actualización desde Home.
2025-07-09 10:08:02.7006|ERROR|Infraestructura.Services.WeatherUpdateHostedService||42|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:09:00.2550|INFO|Infraestructura.Services.WeatherUpdateHostedService||44|HostedService: arrancando actualización desde Home.
2025-07-09 10:09:21.3090|ERROR|Infraestructura.Services.WeatherUpdateHostedService||44|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:10:00.2588|INFO|Infraestructura.Services.WeatherUpdateHostedService||44|HostedService: arrancando actualización desde Home.
2025-07-09 10:10:21.3249|ERROR|Infraestructura.Services.WeatherUpdateHostedService||44|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:10:37.0378|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 10:10:37.0505|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 1 min.
2025-07-09 10:10:37.1505|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: arrancando actualización desde Home.
2025-07-09 10:10:37.1505|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 10:10:37.1624|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 10:10:37.2491|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 10:10:37.2505|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 10:10:37.2505|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 10:10:37.7024|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 10:10:37.7695|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 69.5320ms
2025-07-09 10:10:37.7987|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 10:10:37.7987|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 10:10:37.7987|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.2052ms
2025-07-09 10:10:37.8235|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 24.7781ms
2025-07-09 10:10:38.0275|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||12|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 10:10:38.0435|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 15.8942ms
2025-07-09 10:10:58.2696|ERROR|Infraestructura.Services.WeatherUpdateHostedService||9|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 50
2025-07-09 10:11:37.0751|INFO|Infraestructura.Services.WeatherUpdateHostedService||16|HostedService: arrancando actualización desde Home.
2025-07-09 10:11:56.8126|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 10:11:56.8454|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 3 min.
2025-07-09 10:11:56.9616|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: arrancando actualización desde Home.
2025-07-09 10:11:56.9761|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 10:11:56.9761|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 10:11:57.0533|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 10:11:57.0533|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 10:11:57.0533|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 10:11:57.4621|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 10:11:57.5310|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 70.9688ms
2025-07-09 10:11:57.5614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 10:11:57.5614|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 10:11:57.5702|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 8.7149ms
2025-07-09 10:11:57.5871|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 25.6843ms
2025-07-09 10:11:57.7534|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 10:11:57.7678|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||4|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 14.3874ms
2025-07-09 10:12:18.0816|ERROR|Infraestructura.Services.WeatherUpdateHostedService||14|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 50
2025-07-09 10:13:46.3674|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 10:13:46.3885|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService: arrancando actualización desde Home.
2025-07-09 10:14:07.6371|ERROR|Infraestructura.Services.WeatherUpdateHostedService||13|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.StartAsync(CancellationToken cancellationToken) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 35
2025-07-09 10:14:07.7814|INFO|Microsoft.Hosting.Lifetime||13|Now listening on: https://localhost:7131
2025-07-09 10:14:07.7814|INFO|Microsoft.Hosting.Lifetime||13|Now listening on: http://localhost:5216
2025-07-09 10:14:07.9401|INFO|Microsoft.Hosting.Lifetime||13|Application started. Press Ctrl+C to shut down.
2025-07-09 10:14:07.9401|INFO|Microsoft.Hosting.Lifetime||13|Hosting environment: Development
2025-07-09 10:14:07.9401|INFO|Microsoft.Hosting.Lifetime||13|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 10:14:08.1161|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 10:14:08.2123|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 97.8769ms
2025-07-09 10:14:08.2455|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 10:14:08.2455|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 10:14:08.2555|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.8420ms
2025-07-09 10:14:08.2834|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 37.8076ms
2025-07-09 10:14:08.5032|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 10:14:08.5032|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 16.3330ms
2025-07-09 10:14:53.5461|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias - - -
2025-07-09 10:14:53.5690|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||13|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-09 10:14:53.5690|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||13|AuthenticationScheme: Bearer was challenged.
2025-07-09 10:14:53.5690|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias - 401 0 - 27.7925ms
2025-07-09 10:15:11.3163|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias/28/municipios - - -
2025-07-09 10:15:11.3333|INFO|Microsoft.AspNetCore.Authorization.DefaultAuthorizationService||14|Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-07-09 10:15:11.3333|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler||14|AuthenticationScheme: Bearer was challenged.
2025-07-09 10:15:11.3333|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias/28/municipios - 401 0 - 23.9535ms
2025-07-09 10:15:38.3177|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-09 10:15:38.3177|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||15|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-09 10:15:38.3484|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||15|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-09 10:15:38.4099|INFO|Infraestructura.Controllers.UsersController||15|[0HNDUO29U1S02] Call: Login(email=prueba@gmail.com)
2025-07-09 10:15:39.2551|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (39ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-09 10:15:39.4196|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-09 10:15:39.4541|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-09 10:15:39.4675|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||15|AuthenticationScheme: Identity.Application signed in.
2025-07-09 10:15:39.4837|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|15|Executed DbCommand (5ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-09 10:15:39.4900|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|15|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-09 10:15:39.4900|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|15|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-09 10:15:39.5106|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|15|[0HNDUO29U1S02] FinishCall: Login – token issued
2025-07-09 10:15:39.5169|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|15|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-09 10:15:39.5169|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|15|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 1175.39ms
2025-07-09 10:15:39.5319|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|15|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-09 10:15:39.5319|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|15|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 1221.6109ms
2025-07-09 10:15:55.5209|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias/28/municipios - - -
2025-07-09 10:15:55.6217|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (18ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-09 10:15:55.6259|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||7|Executing endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetMunicipiosAsync (Weather.api)'
2025-07-09 10:15:55.6259|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||7|Route matched with {action = "GetMunicipios", controller = "RemoteWeather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Core.DTO.MunicipioDTO]]] GetMunicipiosAsync(System.String) on controller Infraestructura.Controllers.RemoteWeatherController (Weather.api).
2025-07-09 10:15:55.6259|INFO|Infraestructura.Controllers.RemoteWeatherController||7|[0HNDUO29U1S02] Call: GetMunicipiosAsync(28)
2025-07-09 10:16:16.7372|ERROR|Infraestructura.Controllers.RemoteWeatherController||13|[0HNDUO29U1S02] GetMunicipiosAsync error|System.Exception: WeatherClient.GetMunicipiosAsync error
 ---> System.Exception: ElTiempo API error (0): Se produjo un error durante el intento de conexión ya que la parte conectada no respondió adecuadamente tras un periodo de tiempo, o bien se produjo un error en la conexión establecida ya que el host conectado no ha podido responder. (www.el-tiempo.net:443)
   at Infraestructura.Services.WeatherClient.GetMunicipiosAsync(String codProvincia) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 72
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetMunicipiosAsync(String codProvincia) in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 77
   at Infraestructura.Controllers.RemoteWeatherController.GetMunicipiosAsync(String codprovincia) in C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api\Controllers\RemoteWeatherController.cs:line 94
2025-07-09 10:16:16.7372|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||13|Executing ObjectResult, writing value of type '<>f__AnonymousType0`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-09 10:16:16.7372|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||13|Executed action Infraestructura.Controllers.RemoteWeatherController.GetMunicipiosAsync (Weather.api) in 21113.1426ms
2025-07-09 10:16:16.7372|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||13|Executed endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetMunicipiosAsync (Weather.api)'
2025-07-09 10:16:16.7372|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||13|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/provincias/28/municipios - 500 - application/json;+charset=utf-8 21225.8407ms
2025-07-09 10:24:27.6742|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 10:24:27.6997|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 2 min.
2025-07-09 10:24:27.7806|INFO|Infraestructura.Services.WeatherUpdateHostedService||4|HostedService: arrancando actualización desde Home.
2025-07-09 10:24:27.8044|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 10:24:27.8044|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 10:24:27.8706|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 10:24:27.8706|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 10:24:27.8706|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 10:24:28.4649|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 10:24:28.4649|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||14|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 10:24:28.4815|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 19.5035ms
2025-07-09 10:24:28.5523|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 90.8855ms
2025-07-09 10:24:28.6463|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 10:24:28.6810|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 34.6900ms
2025-07-09 10:24:44.7783|WARN|Microsoft.EntityFrameworkCore.Query||6|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 10:24:44.9906|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (26ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:24:45.0862|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (15ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:24:45.0862|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-09 10:26:27.7195|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: arrancando actualización desde Home.
2025-07-09 10:27:30.3168|ERROR|Infraestructura.Services.WeatherUpdateHostedService||19|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:28:27.7141|INFO|Infraestructura.Services.WeatherUpdateHostedService||16|HostedService: arrancando actualización desde Home.
2025-07-09 10:29:08.1445|ERROR|Infraestructura.Services.WeatherUpdateHostedService||16|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:30:27.7148|INFO|Infraestructura.Services.WeatherUpdateHostedService||31|HostedService: arrancando actualización desde Home.
2025-07-09 10:31:31.2906|INFO|Microsoft.EntityFrameworkCore.Database.Command||37|Executed DbCommand (15ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:31:31.3002|INFO|Microsoft.EntityFrameworkCore.Database.Command||30|Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [UpdateDateTime] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-07-09 10:31:31.3002|INFO|Infraestructura.Services.WeatherUpdateHostedService||30|HostedService: datos de Home registrados correctamente.
2025-07-09 10:32:27.7078|INFO|Infraestructura.Services.WeatherUpdateHostedService||37|HostedService: arrancando actualización desde Home.
2025-07-09 10:32:27.9257|ERROR|Infraestructura.Services.WeatherUpdateHostedService||26|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 10:55:41.6105|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 10:55:41.6409|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 2 min.
2025-07-09 10:55:41.7491|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: arrancando actualización desde Home.
2025-07-09 10:55:41.7696|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 10:55:41.7696|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 10:55:41.8440|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 10:55:41.8440|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 10:55:41.8440|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 10:55:42.4063|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 10:55:42.4063|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 10:55:42.4271|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||7|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 26.7052ms
2025-07-09 10:55:42.5299|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 130.1802ms
2025-07-09 10:55:42.5808|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 10:55:42.6155|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 34.5926ms
2025-07-09 10:55:44.0644|WARN|Microsoft.EntityFrameworkCore.Query||7|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 10:55:44.2825|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (30ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:55:44.3801|INFO|Microsoft.EntityFrameworkCore.Database.Command||7|Executed DbCommand (13ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 10:55:44.3912|INFO|Infraestructura.Services.WeatherUpdateHostedService||7|HostedService: datos de Home registrados correctamente.
2025-07-09 10:57:15.4579|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager||1|User profile is available. Using 'C:\Users\IRubio-WS\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-09 10:57:15.4712|INFO|Infraestructura.Services.WeatherUpdateHostedService||1|HostedService arrancando. Primera ejecución inmediata, luego cada 2 min.
2025-07-09 10:57:15.5743|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: arrancando actualización desde Home.
2025-07-09 10:57:15.5836|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: https://localhost:7131
2025-07-09 10:57:15.5836|INFO|Microsoft.Hosting.Lifetime||1|Now listening on: http://localhost:5216
2025-07-09 10:57:15.6622|INFO|Microsoft.Hosting.Lifetime||1|Application started. Press Ctrl+C to shut down.
2025-07-09 10:57:15.6622|INFO|Microsoft.Hosting.Lifetime||1|Hosting environment: Development
2025-07-09 10:57:15.6622|INFO|Microsoft.Hosting.Lifetime||1|Content root path: C:\Users\IRubio-WS\source\repos\Weather.api\Weather.api
2025-07-09 10:57:15.8633|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/index.html - - -
2025-07-09 10:57:15.9240|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/index.html - 200 - text/html;charset=utf-8 62.7310ms
2025-07-09 10:57:15.9493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request starting HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - - -
2025-07-09 10:57:15.9493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||6|Request starting HTTP/2 GET https://localhost:7131/_vs/browserLink - - -
2025-07-09 10:57:15.9590|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/_framework/aspnetcore-browser-refresh.js - 200 16507 application/javascript;+charset=utf-8 9.6834ms
2025-07-09 10:57:15.9736|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request finished HTTP/2 GET https://localhost:7131/_vs/browserLink - 200 - text/javascript;+charset=UTF-8 24.1715ms
2025-07-09 10:57:16.0515|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||15|Request starting HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - - -
2025-07-09 10:57:16.0690|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||9|Request finished HTTP/2 GET https://localhost:7131/swagger/v1/swagger.json - 200 - application/json;charset=utf-8 17.4018ms
2025-07-09 10:57:22.9000|WARN|Microsoft.EntityFrameworkCore.Query||6|The query uses the 'First'/'FirstOrDefault' operator without 'OrderBy' and filter operators. This may lead to unpredictable results.
2025-07-09 10:57:23.0902|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (24ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:57:23.1833|INFO|Microsoft.EntityFrameworkCore.Database.Command||6|Executed DbCommand (13ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [NameProvince] = @p2, [NameTown] = @p3, [StateSkyDescription] = @p4, [StateSkyId] = @p5, [UpdateDateTime] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-09 10:57:23.1912|INFO|Infraestructura.Services.WeatherUpdateHostedService||6|HostedService: datos de Home registrados correctamente.
2025-07-09 10:59:15.4862|INFO|Infraestructura.Services.WeatherUpdateHostedService||15|HostedService: arrancando actualización desde Home.
2025-07-09 10:59:30.4153|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (22ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 10:59:30.4270|INFO|Microsoft.EntityFrameworkCore.Database.Command||15|Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 10:59:30.4270|INFO|Infraestructura.Services.WeatherUpdateHostedService||15|HostedService: datos de Home registrados correctamente.
2025-07-09 11:00:32.0219|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||25|Request starting HTTP/2 POST https://localhost:7131/api/Users/login - application/json 60
2025-07-09 11:00:32.0416|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||25|Executing endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-09 11:00:32.0575|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||25|Route matched with {action = "Login", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.AnswerAuthenticationDTO]] Login(Core.DTO.CredentialsUserDTO) on controller Infraestructura.Controllers.UsersController (Weather.api).
2025-07-09 11:00:32.0926|INFO|Infraestructura.Controllers.UsersController||25|[0HNDUOQD4GUQK] Call: Login(email=prueba@gmail.com)
2025-07-09 11:00:32.1843|INFO|Microsoft.EntityFrameworkCore.Database.Command||25|Executed DbCommand (28ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-07-09 11:00:32.3025|INFO|Microsoft.EntityFrameworkCore.Database.Command||25|Executed DbCommand (6ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-09 11:00:32.3411|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-09 11:00:32.3535|INFO|Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler||17|AuthenticationScheme: Identity.Application signed in.
2025-07-09 11:00:32.3689|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|17|Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='Text', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-09 11:00:32.3689|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|17|Executed DbCommand (1ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-07-09 11:00:32.3786|INFO|Microsoft.EntityFrameworkCore.Database.Command|prueba@gmail.com|17|Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-09 11:00:32.4000|INFO|Infraestructura.Controllers.UsersController|prueba@gmail.com|17|[0HNDUOQD4GUQK] FinishCall: Login – token issued
2025-07-09 11:00:32.4000|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|prueba@gmail.com|17|Executing OkObjectResult, writing value of type 'Core.DTO.AnswerAuthenticationDTO'.
2025-07-09 11:00:32.4283|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|prueba@gmail.com|17|Executed action Infraestructura.Controllers.UsersController.Login (Weather.api) in 363.9061ms
2025-07-09 11:00:32.4302|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|prueba@gmail.com|17|Executed endpoint 'Infraestructura.Controllers.UsersController.Login (Weather.api)'
2025-07-09 11:00:32.4406|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|prueba@gmail.com|17|Request finished HTTP/2 POST https://localhost:7131/api/Users/login - 200 - application/json;+charset=utf-8 418.6842ms
2025-07-09 11:00:48.3878|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||17|Request starting HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - - -
2025-07-09 11:00:48.4651|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (19ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-09 11:00:48.4728|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||17|Executing endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-09 11:00:48.4728|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||17|Route matched with {action = "GetHome", controller = "RemoteWeather"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.DTO.HomeResponseDTO]] GetHomeAsync() on controller Infraestructura.Controllers.RemoteWeatherController (Weather.api).
2025-07-09 11:00:48.4728|INFO|Infraestructura.Controllers.RemoteWeatherController||17|[0HNDUOQD4GUQK] Call: GetHomeAsync()
2025-07-09 11:00:58.7747|INFO|Infraestructura.Controllers.RemoteWeatherController||16|[0HNDUOQD4GUQK] FinishCall: GetHomeAsync – details retrieved
2025-07-09 11:00:58.7747|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor||16|Executing OkObjectResult, writing value of type 'Core.DTO.HomeResponseDTO'.
2025-07-09 11:00:58.7843|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker||16|Executed action Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api) in 10306.1053ms
2025-07-09 11:00:58.7843|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware||16|Executed endpoint 'Infraestructura.Controllers.RemoteWeatherController.GetHomeAsync (Weather.api)'
2025-07-09 11:00:58.7843|INFO|Microsoft.AspNetCore.Hosting.Diagnostics||16|Request finished HTTP/2 GET https://localhost:7131/api/RemoteWeather/home - 200 - application/json;+charset=utf-8 10399.3406ms
2025-07-09 11:01:15.4873|INFO|Infraestructura.Services.WeatherUpdateHostedService||3|HostedService: arrancando actualización desde Home.
2025-07-09 11:01:22.8769|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (6ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:01:22.8891|INFO|Microsoft.EntityFrameworkCore.Database.Command||17|Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MinTemperature] = @p1, [NameProvince] = @p2, [NameTown] = @p3, [StateSkyDescription] = @p4, [StateSkyId] = @p5, [UpdateDateTime] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-07-09 11:01:22.8891|INFO|Infraestructura.Services.WeatherUpdateHostedService||17|HostedService: datos de Home registrados correctamente.
2025-07-09 11:03:15.4940|INFO|Infraestructura.Services.WeatherUpdateHostedService||16|HostedService: arrancando actualización desde Home.
2025-07-09 11:03:19.4196|ERROR|Infraestructura.Services.WeatherUpdateHostedService||28|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 11:05:15.4861|INFO|Infraestructura.Services.WeatherUpdateHostedService||18|HostedService: arrancando actualización desde Home.
2025-07-09 11:05:18.0748|INFO|Microsoft.EntityFrameworkCore.Database.Command||18|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:05:18.0846|INFO|Microsoft.EntityFrameworkCore.Database.Command||18|Executed DbCommand (7ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 11:05:18.0846|INFO|Infraestructura.Services.WeatherUpdateHostedService||18|HostedService: datos de Home registrados correctamente.
2025-07-09 11:07:15.4911|INFO|Infraestructura.Services.WeatherUpdateHostedService||40|HostedService: arrancando actualización desde Home.
2025-07-09 11:07:34.5675|INFO|Microsoft.EntityFrameworkCore.Database.Command||40|Executed DbCommand (10ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:07:34.5675|INFO|Microsoft.EntityFrameworkCore.Database.Command||40|Executed DbCommand (3ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 11:07:34.5675|INFO|Infraestructura.Services.WeatherUpdateHostedService||40|HostedService: datos de Home registrados correctamente.
2025-07-09 11:09:15.4852|INFO|Infraestructura.Services.WeatherUpdateHostedService||45|HostedService: arrancando actualización desde Home.
2025-07-09 11:09:51.3443|ERROR|Infraestructura.Services.WeatherUpdateHostedService||49|HostedService: error al actualizar desde Home.|System.Exception: WeatherClient.GetHomeAsync error
 ---> System.Exception: ElTiempo API error (InternalServerError): 
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 56
   --- End of inner exception stack trace ---
   at Infraestructura.Services.WeatherClient.GetHomeAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherClient.cs:line 61
   at Infraestructura.Services.WeatherUpdateHostedService.DoWorkAsync() in C:\Users\IRubio-WS\source\repos\Weather.api\Infraestructura\Services\WeatherUpdateHostedService.cs:line 51
2025-07-09 11:11:15.4997|INFO|Infraestructura.Services.WeatherUpdateHostedService||36|HostedService: arrancando actualización desde Home.
2025-07-09 11:11:37.9275|INFO|Microsoft.EntityFrameworkCore.Database.Command||36|Executed DbCommand (21ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:11:37.9382|INFO|Microsoft.EntityFrameworkCore.Database.Command||36|Executed DbCommand (8ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 11:11:37.9382|INFO|Infraestructura.Services.WeatherUpdateHostedService||36|HostedService: datos de Home registrados correctamente.
2025-07-09 11:13:15.4861|INFO|Infraestructura.Services.WeatherUpdateHostedService||55|HostedService: arrancando actualización desde Home.
2025-07-09 11:13:17.9261|INFO|Microsoft.EntityFrameworkCore.Database.Command||60|Executed DbCommand (100ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:13:17.9459|INFO|Microsoft.EntityFrameworkCore.Database.Command||55|Executed DbCommand (17ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 11:13:17.9459|INFO|Infraestructura.Services.WeatherUpdateHostedService||55|HostedService: datos de Home registrados correctamente.
2025-07-09 11:15:15.4833|INFO|Infraestructura.Services.WeatherUpdateHostedService||64|HostedService: arrancando actualización desde Home.
2025-07-09 11:15:26.2688|INFO|Microsoft.EntityFrameworkCore.Database.Command||66|Executed DbCommand (38ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:15:26.2848|INFO|Microsoft.EntityFrameworkCore.Database.Command||65|Executed DbCommand (11ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 11:15:26.2848|INFO|Infraestructura.Services.WeatherUpdateHostedService||65|HostedService: datos de Home registrados correctamente.
2025-07-09 11:17:15.4850|INFO|Infraestructura.Services.WeatherUpdateHostedService||72|HostedService: arrancando actualización desde Home.
2025-07-09 11:17:18.3791|INFO|Microsoft.EntityFrameworkCore.Database.Command||75|Executed DbCommand (18ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:17:18.3893|INFO|Microsoft.EntityFrameworkCore.Database.Command||72|Executed DbCommand (8ms) [Parameters=[@p8='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [StateSkyDescription] = @p5, [StateSkyId] = @p6, [UpdateDateTime] = @p7
OUTPUT 1
WHERE [Id] = @p8;
2025-07-09 11:17:18.3916|INFO|Infraestructura.Services.WeatherUpdateHostedService||72|HostedService: datos de Home registrados correctamente.
2025-07-09 11:19:15.4924|INFO|Infraestructura.Services.WeatherUpdateHostedService||78|HostedService: arrancando actualización desde Home.
2025-07-09 11:19:29.0620|INFO|Microsoft.EntityFrameworkCore.Database.Command||78|Executed DbCommand (19ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:19:29.0719|INFO|Microsoft.EntityFrameworkCore.Database.Command||76|Executed DbCommand (8ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [NameProvince] = @p2, [NameTown] = @p3, [UpdateDateTime] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-07-09 11:19:29.0719|INFO|Infraestructura.Services.WeatherUpdateHostedService||76|HostedService: datos de Home registrados correctamente.
2025-07-09 11:21:15.4972|INFO|Infraestructura.Services.WeatherUpdateHostedService||83|HostedService: arrancando actualización desde Home.
2025-07-09 11:21:29.2188|INFO|Microsoft.EntityFrameworkCore.Database.Command||81|Executed DbCommand (20ms) [Parameters=[], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [w].[Id], [w].[IdProvince], [w].[MaxTemperature], [w].[MinTemperature], [w].[NameProvince], [w].[NameTown], [w].[StateSkyDescription], [w].[StateSkyId], [w].[UpdateDateTime]
FROM [WeatherComplete] AS [w]
2025-07-09 11:21:29.2188|INFO|Microsoft.EntityFrameworkCore.Database.Command||85|Executed DbCommand (12ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2)], CommandType='Text', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [WeatherComplete] SET [IdProvince] = @p0, [MaxTemperature] = @p1, [MinTemperature] = @p2, [NameProvince] = @p3, [NameTown] = @p4, [UpdateDateTime] = @p5
OUTPUT 1
WHERE [Id] = @p6;
2025-07-09 11:21:29.2355|INFO|Infraestructura.Services.WeatherUpdateHostedService||85|HostedService: datos de Home registrados correctamente.
